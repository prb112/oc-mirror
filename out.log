+++ dirname -- ./test/e2e/e2e-simple.sh
++ cd -- ./test/e2e
++ pwd
+ DIR=/build/test/e2e
+ source /build/test/e2e/lib/check.sh
+ source /build/test/e2e/lib/workflow.sh
+ source /build/test/e2e/lib/util.sh
+ source /build/test/e2e/testcases.sh
++ declare -a TESTCASES
++ TESTCASES[19]=m2m_oci_catalog
++ TESTCASES[20]=m2m_release_with_oci_catalog
++ TESTCASES[21]=headsonly_diff_with_target
++ TESTCASES[22]=m2d2m_oci_catalog
+ CMD=bin/oc-mirror
+++ dirname bin/oc-mirror
++ cd bin
++ pwd
++ basename bin/oc-mirror
+ CMD=/build/bin/oc-mirror
+ DATA_TMP=/build/test/e2e/operator-test.29955
+ CREATE_FULL_DIR=/build/test/e2e/operator-test.29955/create_full
+ CREATE_DIFF_DIR=/build/test/e2e/operator-test.29955/create_diff
+ PUBLISH_FULL_DIR=/build/test/e2e/operator-test.29955/publish_full
+ PUBLISH_DIFF_DIR=/build/test/e2e/operator-test.29955/publish_diff
+ REGISTRY_CONN_DIR=/build/test/e2e/operator-test.29955/conn
+ REGISTRY_DISCONN_DIR=/build/test/e2e/operator-test.29955/disconn
+ MIRROR_OCI_DIR=/build/test/e2e/operator-test.29955/mirror_oci
+ OCI_CTLG_PATH=oc-mirror-power-dev.tgz
+ WORKSPACE=oc-mirror-workspace
+ CATALOGREGISTRY=quay.io
+ CATALOGORG=powercloud
+ CATALOGNAMESPACE=powercloud/oc-mirror-dev
+ REGISTRY_CONN_PORT=5000
+ REGISTRY_DISCONN_PORT=5001
+ METADATA_REGISTRY=localhost.localdomain:5000
+ METADATA_CATALOGNAMESPACE=localhost.localdomain:5000/powercloud/oc-mirror-dev
+ METADATA_OCI_CATALOG=oci:///build/test/e2e/artifacts/rhop-ctlg-oci
+ TARGET_CATALOG_NAME=target-name
+ TARGET_CATALOG_TAG=target-tag
+ GOBIN=/root/go/bin
+ '[' '!' -d /root/go/bin ']'
+ GOBIN=/usr/local/go/bin/
+ PATH=/root/platform/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/go/bin/
+ mkdir -p /build/test/e2e/operator-test.29955
+ trap cleanup_all EXIT
+ install_deps
++ arch
+ '[' ppc64le == x86_64 ']'
+ pushd /build/test/e2e/operator-test.29955
/build/test/e2e/operator-test.29955 /build
++ arch
++ sed 's|aarch64|arm64|g'
+ ARCH=ppc64le
+ curl -o /usr/local/go/bin//opm -L https://github.com/operator-framework/operator-registry/releases/download/v1.27.1/linux-ppc64le-opm
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
100 49.0M  100 49.0M    0     0   150M      0 --:--:-- --:--:-- --:--:--  150M
+ chmod +x /usr/local/go/bin//opm
+ GOFLAGS=-mod=mod
+ go install github.com/google/go-containerregistry/cmd/crane@latest
go: downloading github.com/google/go-containerregistry v0.19.1
go: downloading github.com/docker/cli v24.0.0+incompatible
go: downloading github.com/opencontainers/image-spec v1.1.0-rc3
go: downloading github.com/spf13/cobra v1.7.0
go: downloading github.com/mitchellh/go-homedir v1.1.0
go: downloading golang.org/x/sync v0.2.0
go: downloading github.com/opencontainers/go-digest v1.0.0
go: downloading github.com/docker/distribution v2.8.2+incompatible
go: downloading github.com/containerd/stargz-snapshotter/estargz v0.14.3
go: downloading github.com/google/go-cmp v0.5.9
go: downloading github.com/spf13/pflag v1.0.5
go: downloading github.com/klauspost/compress v1.16.5
go: downloading github.com/vbatts/tar-split v0.11.3
go: downloading github.com/pkg/errors v0.9.1
go: downloading github.com/docker/docker v24.0.0+incompatible
go: downloading github.com/sirupsen/logrus v1.9.1
go: downloading golang.org/x/sys v0.15.0
go: downloading github.com/docker/docker-credential-helpers v0.7.0
+ mv /root/go/bin/crane /usr/local/go/bin//
+ '[' ppc64le == arm64 ']'
+ crane export ppc64le/registry:2 registry2.tar
+ tar xvf registry2.tar bin/registry
bin/registry
+ mv bin/registry /usr/local/go/bin/
+ rm registry2.tar
+ popd
/build
+ echo 'INFO: Running 4 test cases'
INFO: Running 4 test cases
+ for i in "${!TESTCASES[@]}"
+ echo -e 'INFO: Running m2m_oci_catalog\n'
INFO: Running m2m_oci_catalog

+ mkdir -p /build/test/e2e/operator-test.29955
+ setup_reg
+ echo -e 'Setting up registries'
Setting up registries
+ cp /build/test/e2e/e2e-config.yaml /build/test/e2e/operator-test.29955/conn.yaml
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@TMP@/build/test/e2e/operator-test.29955/conn@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@PORT@5000@g '{}' ';'
++ expr 5000 + 10
+ DPORT=5010
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@DEBUG@5010@g '{}' ';'
+ PID_CONN=658
+ cp /build/test/e2e/e2e-config.yaml /build/test/e2e/operator-test.29955/disconn.yaml
+ registry serve /build/test/e2e/operator-test.29955/conn.yaml
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@TMP@/build/test/e2e/operator-test.29955/disconn@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@PORT@5001@g '{}' ';'
++ expr 5001 + 10
+ DPORT=5011
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@DEBUG@5011@g '{}' ';'
+ PID_DISCONN=678
+ PID_GO=
+ registry serve /build/test/e2e/operator-test.29955/disconn.yaml
+ echo -e 'disconnected registry PID: 678'
disconnected registry PID: 678
+ echo -e 'connected registry PID: 658'
connected registry PID: 658
+ m2m_oci_catalog
+ rm -fr olm_artifacts
+ workflow_m2m_oci_catalog imageset-config-oci-mirror.yaml docker://localhost.localdomain:5001 '-c=--source-use-http --dest-skip-tls --oci-insecure-signature-policy'
+ parse_args imageset-config-oci-mirror.yaml docker://localhost.localdomain:5001 '-c=--source-use-http --dest-skip-tls --oci-insecure-signature-policy'
+ NS=
+ CREATE_FLAGS=
+ PUBLISH_FLAGS=
+ DIFF=false
+ for i in "$@"
+ case "$i" in
+ for i in "$@"
+ case "$i" in
+ for i in "$@"
+ case "$i" in
+ CREATE_FLAGS='--source-use-http --dest-skip-tls --oci-insecure-signature-policy'
+ shift
+ local config=imageset-config-oci-mirror.yaml
+ local remote_image=docker://localhost.localdomain:5001
+ prepare_oci_testdata /build/test/e2e/operator-test.29955
+ local DATA_DIR=/build/test/e2e/operator-test.29955
+ mkdir -p /build/test/e2e/operator-test.29955/mirror_oci
+ tar xfz /build/test/e2e/artifacts/oc-mirror-power-dev.tgz -C /build/test/e2e/operator-test.29955/mirror_oci
+ mkdir -p olm_artifacts/oc-mirror-dev
+ cp -r /build/test/e2e/artifacts/configs olm_artifacts/oc-mirror-dev/
+ prepare_mirror_testdata /build/test/e2e/operator-test.29955 /build/test/e2e/operator-test.29955/mirror_oci imageset-config-oci-mirror.yaml false
+ local DATA_DIR=/build/test/e2e/operator-test.29955
+ local OUTPUT_DIR=/build/test/e2e/operator-test.29955/mirror_oci
+ local CONFIG_PATH=imageset-config-oci-mirror.yaml
+ local DIFF=false
+ local CATALOG_DIGEST=
+ echo -e '\nSetting up test directory in /build/test/e2e/operator-test.29955'

Setting up test directory in /build/test/e2e/operator-test.29955
+ cp /build/test/e2e/configs/imageset-config-oci-mirror.yaml /build/test/e2e/operator-test.29955/mirror_oci/
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@METADATA_CATALOGNAMESPACE@localhost.localdomain:5000/powercloud/oc-mirror-dev@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@METADATA_OCI_CATALOG@oci:///build/test/e2e/artifacts/rhop-ctlg-oci@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@CATALOG_DIGEST@@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@TARGET_CATALOG_NAME@target-name@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@TARGET_CATALOG_TAG@target-tag@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@DATA_TMP@/build/test/e2e/operator-test.29955@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@MIRROR_OCI_DIR@/build/test/e2e/operator-test.29955/mirror_oci@g '{}' ';'
+ run_cmd --config /build/test/e2e/operator-test.29955/mirror_oci/imageset-config-oci-mirror.yaml --source-use-http --dest-skip-tls --oci-insecure-signature-policy docker://localhost.localdomain:5001
+ local 'test_flags=--verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy'
+ echo /build/bin/oc-mirror --config /build/test/e2e/operator-test.29955/mirror_oci/imageset-config-oci-mirror.yaml --source-use-http --dest-skip-tls --oci-insecure-signature-policy docker://localhost.localdomain:5001 --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
/build/bin/oc-mirror --config /build/test/e2e/operator-test.29955/mirror_oci/imageset-config-oci-mirror.yaml --source-use-http --dest-skip-tls --oci-insecure-signature-policy docker://localhost.localdomain:5001 --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
+ echo

+ /build/bin/oc-mirror --config /build/test/e2e/operator-test.29955/mirror_oci/imageset-config-oci-mirror.yaml --source-use-http --dest-skip-tls --oci-insecure-signature-policy docker://localhost.localdomain:5001 --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
Checking push permissions for localhost.localdomain:5001
Using image localhost.localdomain:5001/oc-mirror to check permissions
Found: oc-mirror-workspace/src/publish
Found: oc-mirror-workspace/src/v2
Creating directory: oc-mirror-workspace/src/charts
Creating directory: oc-mirror-workspace/src/release-signatures
Using local backend at location /build/test/e2e/operator-test.29955
looking for metadata file at "publish/.metadata.json"
No metadata detected, creating new workspace
path to oci layout does not exist (this is expected): stat powercloud/oc-mirror-dev:test-catalog-latest/index.json: no such file or directory
Checking for package: {baz [] [] [] >=1.0.1 <=1.0.1}
bundle baz.v1.0.1: pinning bundle image quay.io/powercloud/oc-mirror-dev:baz-bundle-v1.0.1 to digest
bundle baz.v1.0.1: pinning bundle image quay.io/powercloud/oc-mirror-dev:baz-bundle-v1.0.1 to digest
level=debug msg=resolving host=quay.io
level=debug msg=do request host=quay.io request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/baz-bundle-v1.0.1
level=debug msg=fetch response received host=quay.io response.header.connection=keep-alive response.header.content-length=585 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:05:11 GMT response.header.docker-content-digest=sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e response.header.server=nginx/1.22.1 response.header.strict-transport-security=max-age=63072000; preload response.header.vary=Cookie response.header.x-frame-options=DENY response.status=200 OK url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/baz-bundle-v1.0.1
level=debug msg=resolved desc.digest=sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e host=quay.io
level=debug msg=Loading registries configuration "/etc/containers/registries.conf"
level=debug msg=Loading registries configuration "/etc/containers/registries.conf"
2 related images processed in 291.094Âµs
Writing image mapping to oc-mirror-workspace/operators.1710518710/manifests-oc-mirror-dev/mapping.txt
Checking for existing metadata image at localhost.localdomain:5001/oc-mirror:e740fc03-9adc-4ae9-8ac0-5f72b83f1129
No existing metadata found. Setting up new workspace
localhost.localdomain:5001/
worker 3 stopping
  powercloud/oc-mirror-dev
    blobs:
worker 0 stopping
      quay.io/powercloud/oc-mirror-dev sha256:bb0f096c05d39505004f567b53d7c06dbe544bc6d84bb98d20d91ced20323ce7 218B
worker 1 stopping
      quay.io/powercloud/oc-mirror-dev sha256:3c53b9a63e69ac34f5c788821cd5d548abd0198d9323809d975d06d0ef604fea 230B
worker 2 stopping
      quay.io/powercloud/oc-mirror-dev sha256:a07df2085801596b5524a59f17bb0bc687504d8a90301112a1a8b7b3b7d13c3d 1.622KiB
work queue exiting
      quay.io/powercloud/oc-mirror-dev sha256:4e7fee3142df14eb295570f9fd4331fccd70fd129e5a5820a5835169d7633b9c 2.44KiB
worker 5 stopping
      quay.io/powercloud/oc-mirror-dev sha256:13bcdd27d006a6dffa3e3d868ae056ed0c369304d79541872a87fb365b468d1b 3.07KiB
worker 1 stopping
      quay.io/powercloud/oc-mirror-dev sha256:7c251ec1f052524ecd7d6cb049b06fae03248ce89681b2b9c3549f2d60de3858 798.1KiB
worker 0 stopping
      quay.io/powercloud/oc-mirror-dev sha256:cef026ec9c692bf3960c12a4ce4e35d4a9398dc8b8a9db8ecf1ac07e9cb3c618 808KiB
worker 4 stopping
    manifests:
work queue exiting
worker 2 stopping
worker 3 stopping
      sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e -> 48bfd0
      sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df -> bb9472
  stats: shared=0 unique=7 size=1.576MiB ratio=1.00

phase 0:
  localhost.localdomain:5001 powercloud/oc-mirror-dev blobs=7 mounts=0 manifests=2 shared=0

info: Planning completed in 150ms
uploading: localhost.localdomain:5001/powercloud/oc-mirror-dev sha256:7c251ec1f052524ecd7d6cb049b06fae03248ce89681b2b9c3549f2d60de3858 798.1KiB
uploading: localhost.localdomain:5001/powercloud/oc-mirror-dev sha256:cef026ec9c692bf3960c12a4ce4e35d4a9398dc8b8a9db8ecf1ac07e9cb3c618 808KiB
sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df localhost.localdomain:5001/powercloud/oc-mirror-dev:bb9472
sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e localhost.localdomain:5001/powercloud/oc-mirror-dev:48bfd0
info: Mirroring completed in 690ms (2.377MB/s)
worker 2 stopping
worker 0 stopping
worker 1 stopping
worker 5 stopping
worker 3 stopping
worker 4 stopping
work queue exiting
worker 1 stopping
worker 0 stopping
worker 2 stopping
worker 3 stopping
work queue exiting
No images specified for pruning
Rendering catalog image "localhost.localdomain:5001/redhatgov/oc-mirror-dev:test-catalog-latest" with file-based catalog 
"Using existing OCI layout to oc-mirror-workspace/src/catalogs/redhatgov/oc-mirror-dev/test-catalog-latest/layout"
Rendering catalog image "localhost.localdomain:5001/build/test/e2e/operator-test.10545/mirror_oci/oc-mirror-dev:48e600" with file-based catalog 
"Using existing OCI layout to oc-mirror-workspace/src/catalogs/build/test/e2e/operator-test.10545/mirror_oci/oc-mirror-dev/sha256:48e60081527b331f29163f320651b24aab51b069917673e722e05fcf047262f3/layout"
Rendering catalog image "localhost.localdomain:5001/build/test/e2e/operator-test.12560/mirror_oci/oc-mirror-dev:48e600" with file-based catalog 
"Using existing OCI layout to oc-mirror-workspace/src/catalogs/build/test/e2e/operator-test.12560/mirror_oci/oc-mirror-dev/sha256:48e60081527b331f29163f320651b24aab51b069917673e722e05fcf047262f3/layout"
Rendering catalog image "localhost.localdomain:5001/powercloud/oc-mirror-dev:test-catalog-latest" with file-based catalog 
"Using existing OCI layout to oc-mirror-workspace/src/catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout"
level=debug msg=resolving host=localhost.localdomain:5001
level=debug msg=do request host=localhost.localdomain:5001 request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://localhost.localdomain:5001/v2/build/test/e2e/operator-test.10545/mirror_oci/oc-mirror-dev/manifests/48e600
level=debug msg=fetch response received host=localhost.localdomain:5001 response.header.content-length=238 response.header.content-type=application/vnd.oci.image.index.v1+json response.header.date=Fri, 15 Mar 2024 16:05:13 GMT response.header.docker-content-digest=sha256:cb23691f28e4a111edd7e5254fecb013938d031f68f7b17dad5d3d536d2a7955 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:cb23691f28e4a111edd7e5254fecb013938d031f68f7b17dad5d3d536d2a7955" response.header.x-content-type-options=nosniff response.status=200 OK url=http://localhost.localdomain:5001/v2/build/test/e2e/operator-test.10545/mirror_oci/oc-mirror-dev/manifests/48e600
level=debug msg=resolved desc.digest=sha256:cb23691f28e4a111edd7e5254fecb013938d031f68f7b17dad5d3d536d2a7955 host=localhost.localdomain:5001
level=debug msg=resolving host=localhost.localdomain:5001
level=debug msg=do request host=localhost.localdomain:5001 request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://localhost.localdomain:5001/v2/build/test/e2e/operator-test.12560/mirror_oci/oc-mirror-dev/manifests/48e600
level=debug msg=fetch response received host=localhost.localdomain:5001 response.header.content-length=238 response.header.content-type=application/vnd.oci.image.index.v1+json response.header.date=Fri, 15 Mar 2024 16:05:13 GMT response.header.docker-content-digest=sha256:b89517eecbce24adf48d769b4ed0f45ab2011e3cfa134d54eaf11c1001b665a0 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:b89517eecbce24adf48d769b4ed0f45ab2011e3cfa134d54eaf11c1001b665a0" response.header.x-content-type-options=nosniff response.status=200 OK url=http://localhost.localdomain:5001/v2/build/test/e2e/operator-test.12560/mirror_oci/oc-mirror-dev/manifests/48e600
level=debug msg=resolved desc.digest=sha256:b89517eecbce24adf48d769b4ed0f45ab2011e3cfa134d54eaf11c1001b665a0 host=localhost.localdomain:5001
level=debug msg=resolving host=localhost.localdomain:5001
level=debug msg=do request host=localhost.localdomain:5001 request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://localhost.localdomain:5001/v2/powercloud/oc-mirror-dev/manifests/test-catalog-latest
level=debug msg=fetch response received host=localhost.localdomain:5001 response.header.content-length=238 response.header.content-type=application/vnd.oci.image.index.v1+json response.header.date=Fri, 15 Mar 2024 16:05:13 GMT response.header.docker-content-digest=sha256:06d5c8c587e82963d8ab9efd8fcaefa9e7073a1d510508531e916f92d1c88601 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:06d5c8c587e82963d8ab9efd8fcaefa9e7073a1d510508531e916f92d1c88601" response.header.x-content-type-options=nosniff response.status=200 OK url=http://localhost.localdomain:5001/v2/powercloud/oc-mirror-dev/manifests/test-catalog-latest
level=debug msg=resolved desc.digest=sha256:06d5c8c587e82963d8ab9efd8fcaefa9e7073a1d510508531e916f92d1c88601 host=localhost.localdomain:5001
level=debug msg=resolving host=localhost.localdomain:5001
level=debug msg=do request host=localhost.localdomain:5001 request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://localhost.localdomain:5001/v2/redhatgov/oc-mirror-dev/manifests/test-catalog-latest
level=debug msg=fetch response received host=localhost.localdomain:5001 response.header.content-length=238 response.header.content-type=application/vnd.oci.image.index.v1+json response.header.date=Fri, 15 Mar 2024 16:05:13 GMT response.header.docker-content-digest=sha256:6ba6fc8e38bb80bfebcccf974346686c6e3a733741d0dafe141c406a9bd2b587 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:6ba6fc8e38bb80bfebcccf974346686c6e3a733741d0dafe141c406a9bd2b587" response.header.x-content-type-options=nosniff response.status=200 OK url=http://localhost.localdomain:5001/v2/redhatgov/oc-mirror-dev/manifests/test-catalog-latest
level=debug msg=resolved desc.digest=sha256:6ba6fc8e38bb80bfebcccf974346686c6e3a733741d0dafe141c406a9bd2b587 host=localhost.localdomain:5001
Writing image mapping to oc-mirror-workspace/results-1710518712/mapping.txt
Writing CatalogSource manifests to oc-mirror-workspace/results-1710518712
Writing ICSP manifests to oc-mirror-workspace/results-1710518712
Moved any release signatures to oc-mirror-workspace/results-1710518712
Moved any downloaded Helm charts to oc-mirror-workspace/results-1710518712
Using local backend at location /build/test/e2e/operator-test.29955
looking for metadata file at "publish/.metadata.json"
Resolving operator metadata
path to oci layout does not exist (this is expected): stat powercloud/oc-mirror-dev:test-catalog-latest/index.json: no such file or directory
Resolving OCP release metadata
looking for metadata file at "publish/.metadata.json"
Pushing metadata to registry at localhost.localdomain:5001/oc-mirror:e740fc03-9adc-4ae9-8ac0-5f72b83f1129
+ check_bundles localhost.localdomain:5001/powercloud/oc-mirror-dev:test-catalog-latest baz.v1.0.1 localhost.localdomain:5001
+ local catalog_image=localhost.localdomain:5001/powercloud/oc-mirror-dev:test-catalog-latest
+ local exp_bundles_list=baz.v1.0.1
+ local disconn_registry=localhost.localdomain:5001
+ local ns=
+ local extraction_dir=/build/test/e2e/operator-test.29955/extracted
+ mkdir -p /build/test/e2e/operator-test.29955/extracted
+ local index_dir=/build/test/e2e/operator-test.29955/unpacked
+ local index_path=/build/test/e2e/operator-test.29955/unpacked/index.json
+ mkdir -p /build/test/e2e/operator-test.29955/unpacked
+ go run -mod=readonly test/e2e/lib/catalog-extract/main.go localhost.localdomain:5001/powercloud/oc-mirror-dev:test-catalog-latest /build/test/e2e/operator-test.29955/extracted/temp.tar
go: downloading github.com/google/go-containerregistry v0.10.0
go: downloading github.com/docker/cli v23.0.5+incompatible
go: downloading github.com/klauspost/compress v1.16.6
go: downloading golang.org/x/sync v0.3.0
go: downloading github.com/sirupsen/logrus v1.9.3
go: downloading golang.org/x/sys v0.13.0
go: downloading github.com/docker/docker v20.10.21+incompatible
+ tar xvf /build/test/e2e/operator-test.29955/extracted/temp.tar /configs/index.json --strip-components=1
tar: Removing leading `/' from member names
/configs/index.json
+ mv index.json /build/test/e2e/operator-test.29955/unpacked
+ local cache_dir=/build/test/e2e/operator-test.29955/extracted/cache
+ tar xvf /build/test/e2e/operator-test.29955/extracted/temp.tar /cache
tar: Removing leading `/' from member names
/cache
/cache/cache
/cache/cache/baz_stable_baz.v1.0.1.json
/cache/cache/packages.json
/cache/digest
+ mv cache /build/test/e2e/operator-test.29955/extracted
+ local opm_path=/build/test/e2e/operator-test.29955/extracted/opm
+ tar xvf /build/test/e2e/operator-test.29955/extracted/temp.tar bin/opm
bin/opm
+ mv bin/opm /build/test/e2e/operator-test.29955/extracted
+ chmod +x /build/test/e2e/operator-test.29955/extracted/opm
+ /build/test/e2e/operator-test.29955/extracted/opm validate /build/test/e2e/operator-test.29955/unpacked
+ /build/test/e2e/operator-test.29955/extracted/opm serve /build/test/e2e/operator-test.29955/unpacked --cache-dir=/build/test/e2e/operator-test.29955/extracted/cache --cache-only --cache-enforce-integrity
[36mINFO[0m[0000] starting pprof endpoint                       [36maddress[0m="localhost:6060"
+ rm -fr /build/test/e2e/operator-test.29955/extracted
+ declare -A exp_bundles_set
+ for bundle in $exp_bundles_list
+ exp_bundles_set[$bundle]=bundle
++ crane manifest --insecure --platform all localhost.localdomain:5001/powercloud/oc-mirror-dev:test-catalog-latest
++ jq .manifests
++ jq '.[].platform.architecture'
+ local 'manifest="ppc64le"'
++ echo '"ppc64le"'
++ wc -w
+ local num_manifest=1
+ ((  1 != 1  ))
++ cat /build/test/e2e/operator-test.29955/unpacked/index.json
++ jq -sr '.[] | select(.schema == "olm.bundle") | .name'
+ local index_bundle_names=baz.v1.0.1
++ echo baz.v1.0.1
++ wc -w
+ local num_bundles=1
+ ((  1 != 1  ))
++ cat /build/test/e2e/operator-test.29955/unpacked/index.json
++ jq -sr '.[] | select(.schema == "olm.bundle") | .image'
+ local index_bundle_images=quay.io/powercloud/oc-mirror-dev@sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e
+ [[ ! -z '' ]]
+ for image in $index_bundle_images
++ echo quay.io/powercloud/oc-mirror-dev@sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e
++ cut --complement -d/ -f1
+ image=localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e
+ crane digest localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e --insecure
sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e
+ for bundle in $index_bundle_names
+ [[ bundle != \b\u\n\d\l\e ]]
+ rm -rf /build/test/e2e/operator-test.29955
+ cleanup_all
+ [[ -n 678 ]]
+ kill 678
+ PID_DISONN=
+ [[ -n 658 ]]
+ kill 658
+ PID_CON=
+ [[ -n '' ]]
+ for i in "${!TESTCASES[@]}"
+ echo -e 'INFO: Running m2m_release_with_oci_catalog\n'
INFO: Running m2m_release_with_oci_catalog

+ mkdir -p /build/test/e2e/operator-test.29955
+ setup_reg
+ echo -e 'Setting up registries'
Setting up registries
+ cp /build/test/e2e/e2e-config.yaml /build/test/e2e/operator-test.29955/conn.yaml
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@TMP@/build/test/e2e/operator-test.29955/conn@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@PORT@5000@g '{}' ';'
++ expr 5000 + 10
+ DPORT=5010
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@DEBUG@5010@g '{}' ';'
+ PID_CONN=1459
+ registry serve /build/test/e2e/operator-test.29955/conn.yaml
+ cp /build/test/e2e/e2e-config.yaml /build/test/e2e/operator-test.29955/disconn.yaml
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@TMP@/build/test/e2e/operator-test.29955/disconn@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@PORT@5001@g '{}' ';'
++ expr 5001 + 10
+ DPORT=5011
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@DEBUG@5011@g '{}' ';'
+ PID_DISCONN=1482
+ PID_GO=
+ echo -e 'disconnected registry PID: 1482'
disconnected registry PID: 1482
+ echo -e 'connected registry PID: 1459'
+ registry serve /build/test/e2e/operator-test.29955/disconn.yaml
connected registry PID: 1459
+ m2m_release_with_oci_catalog
+ export UPDATE_URL_OVERRIDE=https://localhost.localdomain:3443/graph
+ UPDATE_URL_OVERRIDE=https://localhost.localdomain:3443/graph
+ export SSL_CERT_FILE=test/e2e/graph/server.crt
+ SSL_CERT_FILE=test/e2e/graph/server.crt
+ go build -o test/e2e/graph test/e2e/graph/main.go
+ PID_GO=1571
+ test/e2e/graph/main
+ echo -e 'go cincinnatti web service PID: 1571'
go cincinnatti web service PID: 1571
+ workflow_oci_mirror_all imageset-config-oci-mirror-all.yaml docker://localhost.localdomain:5001/test-catalog-latest '-c=--dest-skip-tls --oci-insecure-signature-policy'
+ parse_args imageset-config-oci-mirror-all.yaml docker://localhost.localdomain:5001/test-catalog-latest '-c=--dest-skip-tls --oci-insecure-signature-policy'
+ NS=
+ CREATE_FLAGS=
+ PUBLISH_FLAGS=
+ DIFF=false
+ for i in "$@"
+ case "$i" in
+ for i in "$@"
+ case "$i" in
+ for i in "$@"
+ case "$i" in
+ CREATE_FLAGS='--dest-skip-tls --oci-insecure-signature-policy'
+ shift
+ local config=imageset-config-oci-mirror-all.yaml
+ local remote_image=docker://localhost.localdomain:5001/test-catalog-latest
+ prepare_oci_testdata /build/test/e2e/operator-test.29955
+ local DATA_DIR=/build/test/e2e/operator-test.29955
+ mkdir -p /build/test/e2e/operator-test.29955/mirror_oci
2024/03/15 16:05:19 Starting tls server on port 3443
+ tar xfz /build/test/e2e/artifacts/oc-mirror-power-dev.tgz -C /build/test/e2e/operator-test.29955/mirror_oci
+ mkdir -p olm_artifacts/oc-mirror-dev
+ cp -r /build/test/e2e/artifacts/configs olm_artifacts/oc-mirror-dev/
+ prepare_mirror_testdata /build/test/e2e/operator-test.29955 /build/test/e2e/operator-test.29955/mirror_oci imageset-config-oci-mirror-all.yaml false
+ local DATA_DIR=/build/test/e2e/operator-test.29955
+ local OUTPUT_DIR=/build/test/e2e/operator-test.29955/mirror_oci
+ local CONFIG_PATH=imageset-config-oci-mirror-all.yaml
+ local DIFF=false
+ local CATALOG_DIGEST=
+ echo -e '\nSetting up test directory in /build/test/e2e/operator-test.29955'

Setting up test directory in /build/test/e2e/operator-test.29955
+ cp /build/test/e2e/configs/imageset-config-oci-mirror-all.yaml /build/test/e2e/operator-test.29955/mirror_oci/
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@METADATA_CATALOGNAMESPACE@localhost.localdomain:5000/powercloud/oc-mirror-dev@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@METADATA_OCI_CATALOG@oci:///build/test/e2e/artifacts/rhop-ctlg-oci@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@CATALOG_DIGEST@@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@TARGET_CATALOG_NAME@target-name@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@TARGET_CATALOG_TAG@target-tag@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@DATA_TMP@/build/test/e2e/operator-test.29955@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@MIRROR_OCI_DIR@/build/test/e2e/operator-test.29955/mirror_oci@g '{}' ';'
+ echo imageset-config-oci-mirror-all.yaml docker://localhost.localdomain:5001/test-catalog-latest
imageset-config-oci-mirror-all.yaml docker://localhost.localdomain:5001/test-catalog-latest
+ run_cmd --config /build/test/e2e/operator-test.29955/mirror_oci/imageset-config-oci-mirror-all.yaml --dest-skip-tls --oci-insecure-signature-policy docker://localhost.localdomain:5001/test-catalog-latest
+ local 'test_flags=--verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy'
+ echo /build/bin/oc-mirror --config /build/test/e2e/operator-test.29955/mirror_oci/imageset-config-oci-mirror-all.yaml --dest-skip-tls --oci-insecure-signature-policy docker://localhost.localdomain:5001/test-catalog-latest --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
/build/bin/oc-mirror --config /build/test/e2e/operator-test.29955/mirror_oci/imageset-config-oci-mirror-all.yaml --dest-skip-tls --oci-insecure-signature-policy docker://localhost.localdomain:5001/test-catalog-latest --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
+ echo

+ /build/bin/oc-mirror --config /build/test/e2e/operator-test.29955/mirror_oci/imageset-config-oci-mirror-all.yaml --dest-skip-tls --oci-insecure-signature-policy docker://localhost.localdomain:5001/test-catalog-latest --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
Checking push permissions for localhost.localdomain:5001
Using image localhost.localdomain:5001/test-catalog-latest/oc-mirror to check permissions
Found: oc-mirror-workspace/src/publish
Found: oc-mirror-workspace/src/v2
Creating directory: oc-mirror-workspace/src/charts
Creating directory: oc-mirror-workspace/src/release-signatures
Using local backend at location /build/test/e2e/operator-test.29955
looking for metadata file at "publish/.metadata.json"
No metadata detected, creating new workspace
Usage of the UPDATE_URL_OVERRIDE environment variable is unsupported
Processing minimum version 0.2.0 and maximum version 0.2.0
Found update 0.2.0
Starting release download for version quay.io/luzuccar/e2e-release@sha256:a5be0b5297398cfcc4d0663c64ff32bd087f38bf5c474ed998decd72a5b01cd4
Raw image config json:
{"created":"2023-01-24T02:27:38Z","architecture":"amd64","os":"linux","config":{"User":"0","Env":["PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","container=oci","__doozer=merge","BUILD_RELEASE=202212061458.p0.g7e8a010.assembly.stream","BUILD_VERSION=v4.12.0","OS_GIT_MAJOR=4","OS_GIT_MINOR=12","OS_GIT_PATCH=0","OS_GIT_TREE_STATE=clean","OS_GIT_VERSION=4.12.0-202212061458.p0.g7e8a010.assembly.stream-7e8a010","SOURCE_GIT_TREE_STATE=clean","OS_GIT_COMMIT=7e8a010","SOURCE_DATE_EPOCH=1666997438","SOURCE_GIT_COMMIT=7e8a0105eb7369f3f92ad7b2581a2efffab5b28e","SOURCE_GIT_TAG=7e8a010","SOURCE_GIT_URL=https://github.com/openshift/images","GODEBUG=x509ignoreCN=0,madvdontneed=1","OPENSHIFT_CI=true","BUILD_LOGLEVEL=0","OPENSHIFT_BUILD_NAME=cluster-version-operator","OPENSHIFT_BUILD_NAMESPACE=ci-op-1c0qqwdy"],"Entrypoint":["/usr/bin/cluster-version-operator"],"Labels":{"io.openshift.release":"4.12.0-0.okd-2023-01-24-022732","io.openshift.release.base-image-digest":"sha256:0ed55ee636f5703b212337ff8a82833c5dfc4553069dc3f6cd52564cc0adcd08"}},"rootfs":{"type":"layers","diff_ids":["sha256:e2e51ecd22dcbc318fb317f20dff685c6d54755d60a80b12ed290658864d45fd","sha256:d3fbfed1573def1cd078186e307411a8929138baf65bdd0a02bcbdb451707f67","sha256:10f5b8a5bcc334c27cb0c778c545ce6c3c77c79c9300e3bd5574dc7b12ef1e44","sha256:50c36aad8a28245871d2cace944a4260d9de58b679a0e4ab285b481e123734eb","sha256:39146b225c7aae0eeb92bb3277e90bcaa699cb42d9acd81fb44305498c2cc56e","sha256:8d1020ce239f73a1dd78f58e2068ce14c81d1e8c856b4d95c8568e760de2b884","sha256:978ea21ce73eff6773e4c3f76393d9a01e5bf28147ac2f47422acc766d9ef91e"]},"history":[{"created":"2023-01-24T02:27:38Z","comment":"Release image for OpenShift"},{"created":"2023-01-24T02:27:38Z"},{"created":"2023-01-24T02:27:38Z"},{"created":"2023-01-24T02:27:38Z"},{"created":"2023-01-24T02:27:38Z"},{"created":"2023-01-24T02:27:38Z"},{"created":"2023-01-24T02:27:38Z"}]}
level=debug msg=Using /usr/bin/unpigz to decompress
about to send work queue error: <nil>
worker 2 stopping
worker 1 stopping
worker 5 stopping
worker 3 stopping
worker 0 stopping
worker 4 stopping
work queue exiting
warning: No release authenticity verification is configured, all releases are considered unverified
warning: An image was retrieved that failed verification: verification is not possible
Mapping mirror.Mapping{Source:imagesource.TypedImageReference{Type:"docker", Ref:reference.DockerImageReference{Registry:"quay.io", Namespace:"luzuccar", Name:"alpine", Tag:"", ID:"sha256:b894d7f30f10bc8977039a2fec37834f04bbd5bb2441c18bbfb0ae824a90e711"}}, Destination:imagesource.TypedImageReference{Type:"file", Ref:reference.DockerImageReference{Registry:"", Namespace:"openshift", Name:"release", Tag:"alpine-x86_64-alpime", ID:""}}, Name:"alpime"}
error retrieving signature for sha256:a5be0b5297398cfcc4d0663c64ff32bd087f38bf5c474ed998decd72a5b01cd4: unable to retrieve signature from https://storage.googleapis.com/openshift-release/official/signatures/openshift/release/sha256=a5be0b5297398cfcc4d0663c64ff32bd087f38bf5c474ed998decd72a5b01cd4/signature-1: no more signatures to check
error retrieving signature for sha256:a5be0b5297398cfcc4d0663c64ff32bd087f38bf5c474ed998decd72a5b01cd4: unable to retrieve signature from https://mirror.openshift.com/pub/openshift-v4/signatures/openshift/release/sha256=a5be0b5297398cfcc4d0663c64ff32bd087f38bf5c474ed998decd72a5b01cd4/signature-1: no more signatures to check
error retrieving signature for sha256:a5be0b5297398cfcc4d0663c64ff32bd087f38bf5c474ed998decd72a5b01cd4: parallel signature store wrapping containers/image signature store under https://storage.googleapis.com/openshift-release/official/signatures/openshift/release, containers/image signature store under https://mirror.openshift.com/pub/openshift-v4/signatures/openshift/release: no more signatures to check
unable to verify sha256:a5be0b5297398cfcc4d0663c64ff32bd087f38bf5c474ed998decd72a5b01cd4 against keyrings: verifier-public-key-redhat
An image was retrieved that failed verification: unable to verify sha256:a5be0b5297398cfcc4d0663c64ff32bd087f38bf5c474ed998decd72a5b01cd4 against keyrings: verifier-public-key-redhat
An image was retrieved that failed verification: unable to verify sha256:a5be0b5297398cfcc4d0663c64ff32bd087f38bf5c474ed998decd72a5b01cd4 against keyrings: verifier-public-key-redhat
Checking for package: {baz [] [] [] >=1.0.1 <=1.0.1}
bundle baz.v1.0.1: pinning bundle image quay.io/powercloud/oc-mirror-dev:baz-bundle-v1.0.1 to digest
bundle baz.v1.0.1: pinning bundle image quay.io/powercloud/oc-mirror-dev:baz-bundle-v1.0.1 to digest
level=debug msg=resolving host=quay.io
level=debug msg=do request host=quay.io request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=https://quay.io/v2/powercloud/oc-mirror-dev/manifests/baz-bundle-v1.0.1
level=debug msg=fetch response received host=quay.io response.header.connection=keep-alive response.header.content-length=585 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:05:22 GMT response.header.docker-content-digest=sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e response.header.server=nginx/1.22.1 response.header.strict-transport-security=max-age=63072000; preload response.header.vary=Cookie response.header.x-frame-options=DENY response.status=200 OK url=https://quay.io/v2/powercloud/oc-mirror-dev/manifests/baz-bundle-v1.0.1
level=debug msg=resolved desc.digest=sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e host=quay.io
level=debug msg=Loading registries configuration "/etc/containers/registries.conf"
2 related images processed in 266.47Âµs
Writing image mapping to oc-mirror-workspace/operators.1710518721/manifests-oc-mirror-dev/mapping.txt
level=debug msg=resolving host=quay.io
level=debug msg=do request host=quay.io request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=https://quay.io/v2/powercloud/oc-mirror-dev/manifests/bar-v0.1.0
level=debug msg=fetch response received host=quay.io response.header.connection=keep-alive response.header.content-length=750 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:05:22 GMT response.header.docker-content-digest=sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df response.header.server=nginx/1.22.1 response.header.strict-transport-security=max-age=63072000; preload response.header.vary=Cookie response.header.x-frame-options=DENY response.status=200 OK url=https://quay.io/v2/powercloud/oc-mirror-dev/manifests/bar-v0.1.0
level=debug msg=resolved desc.digest=sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df host=quay.io
Checking for existing metadata image at localhost.localdomain:5001/test-catalog-latest/oc-mirror:37a9f5dd-bfa7-4f1a-a291-2d92473eb55a
No existing metadata found. Setting up new workspace
localhost.localdomain:5001/
  test-catalog-latest/openshift/release
worker 1 stopping
    blobs:
      quay.io/luzuccar/alpine sha256:31003d392b8075e5dbc93a0bfd29cf4965c1d456a7eeeb6ef815af1bea375e0d 1.438KiB
work queue exiting
worker 3 stopping
worker 3 stopping
      quay.io/luzuccar/alpine sha256:7b26c2f269ea232d8dd57ee7696652248b61fda9653d7c7f06a9fea2bd2f009e 3.214MiB
worker 2 stopping
    manifests:
worker 0 stopping
      sha256:b894d7f30f10bc8977039a2fec37834f04bbd5bb2441c18bbfb0ae824a90e711 -> alpine-x86_64-alpime
  test-catalog-latest/openshift/release-images
    blobs:
      quay.io/luzuccar/e2e-release sha256:a24e676ee96c3b345e2441b8f55e03c159ff154c79c5dd9bf46b8e2e229456b3 656B
      quay.io/luzuccar/e2e-release sha256:fa6519a3618b34284aab8547f59bbd139697d051a91cd76eca00d59ae5c618e9 1.87KiB
    manifests:
      sha256:a5be0b5297398cfcc4d0663c64ff32bd087f38bf5c474ed998decd72a5b01cd4 -> alpine-x86_64
  test-catalog-latest/powercloud/oc-mirror-dev
    blobs:
      quay.io/powercloud/oc-mirror-dev sha256:bb0f096c05d39505004f567b53d7c06dbe544bc6d84bb98d20d91ced20323ce7 218B
      quay.io/powercloud/oc-mirror-dev sha256:3c53b9a63e69ac34f5c788821cd5d548abd0198d9323809d975d06d0ef604fea 230B
      quay.io/powercloud/oc-mirror-dev sha256:a07df2085801596b5524a59f17bb0bc687504d8a90301112a1a8b7b3b7d13c3d 1.622KiB
worker 2 stopping
      quay.io/powercloud/oc-mirror-dev sha256:4e7fee3142df14eb295570f9fd4331fccd70fd129e5a5820a5835169d7633b9c 2.44KiB
work queue exiting
      quay.io/powercloud/oc-mirror-dev sha256:13bcdd27d006a6dffa3e3d868ae056ed0c369304d79541872a87fb365b468d1b 3.07KiB
worker 5 stopping
worker 4 stopping
      quay.io/powercloud/oc-mirror-dev sha256:7c251ec1f052524ecd7d6cb049b06fae03248ce89681b2b9c3549f2d60de3858 798.1KiB
worker 1 stopping
      quay.io/powercloud/oc-mirror-dev sha256:cef026ec9c692bf3960c12a4ce4e35d4a9398dc8b8a9db8ecf1ac07e9cb3c618 808KiB
    manifests:
      sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e -> 48bfd0
      sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df -> bar-v0.1.0
      sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df -> bb9472
  stats: shared=0 unique=11 size=4.794MiB ratio=1.00

worker 0 stopping
phase 0:
  localhost.localdomain:5001 test-catalog-latest/powercloud/oc-mirror-dev blobs=7 mounts=0 manifests=3 shared=0
  localhost.localdomain:5001 test-catalog-latest/openshift/release        blobs=2 mounts=0 manifests=1 shared=0
  localhost.localdomain:5001 test-catalog-latest/openshift/release-images blobs=2 mounts=0 manifests=1 shared=0

info: Planning completed in 230ms
uploading: localhost.localdomain:5001/test-catalog-latest/powercloud/oc-mirror-dev sha256:7c251ec1f052524ecd7d6cb049b06fae03248ce89681b2b9c3549f2d60de3858 798.1KiB
uploading: localhost.localdomain:5001/test-catalog-latest/powercloud/oc-mirror-dev sha256:cef026ec9c692bf3960c12a4ce4e35d4a9398dc8b8a9db8ecf1ac07e9cb3c618 808KiB
uploading: localhost.localdomain:5001/test-catalog-latest/openshift/release sha256:7b26c2f269ea232d8dd57ee7696652248b61fda9653d7c7f06a9fea2bd2f009e 3.214MiB
sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e localhost.localdomain:5001/test-catalog-latest/powercloud/oc-mirror-dev:48bfd0
sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df localhost.localdomain:5001/test-catalog-latest/powercloud/oc-mirror-dev:bar-v0.1.0
sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df localhost.localdomain:5001/test-catalog-latest/powercloud/oc-mirror-dev:bb9472
sha256:a5be0b5297398cfcc4d0663c64ff32bd087f38bf5c474ed998decd72a5b01cd4 localhost.localdomain:5001/test-catalog-latest/openshift/release-images:alpine-x86_64
sha256:b894d7f30f10bc8977039a2fec37834f04bbd5bb2441c18bbfb0ae824a90e711 localhost.localdomain:5001/test-catalog-latest/openshift/release:alpine-x86_64-alpime
info: Mirroring completed in 3.32s (1.513MB/s)
worker 0 stopping
worker 5 stopping
worker 3 stopping
worker 1 stopping
worker 0 stopping
worker 2 stopping
worker 3 stopping
work queue exiting
worker 4 stopping
worker 1 stopping
worker 2 stopping
work queue exiting
No images specified for pruning
Rendering catalog image "localhost.localdomain:5001/test-catalog-latest/redhatgov/oc-mirror-dev:test-catalog-latest" with file-based catalog 
"Using existing OCI layout to oc-mirror-workspace/src/catalogs/redhatgov/oc-mirror-dev/test-catalog-latest/layout"
Rendering catalog image "localhost.localdomain:5001/test-catalog-latest/build/test/e2e/operator-test.10545/mirror_oci/oc-mirror-dev:48e600" with file-based catalog 
"Using existing OCI layout to oc-mirror-workspace/src/catalogs/build/test/e2e/operator-test.10545/mirror_oci/oc-mirror-dev/sha256:48e60081527b331f29163f320651b24aab51b069917673e722e05fcf047262f3/layout"
Rendering catalog image "localhost.localdomain:5001/test-catalog-latest/build/test/e2e/operator-test.12560/mirror_oci/oc-mirror-dev:48e600" with file-based catalog 
"Using existing OCI layout to oc-mirror-workspace/src/catalogs/build/test/e2e/operator-test.12560/mirror_oci/oc-mirror-dev/sha256:48e60081527b331f29163f320651b24aab51b069917673e722e05fcf047262f3/layout"
Rendering catalog image "localhost.localdomain:5001/test-catalog-latest/build/test/e2e/operator-test.29955/mirror_oci/oc-mirror-dev:48e600" with file-based catalog 
"Using existing OCI layout to oc-mirror-workspace/src/catalogs/build/test/e2e/operator-test.29955/mirror_oci/oc-mirror-dev/sha256:48e60081527b331f29163f320651b24aab51b069917673e722e05fcf047262f3/layout"
Rendering catalog image "localhost.localdomain:5001/test-catalog-latest/powercloud/oc-mirror-dev:test-catalog-latest" with file-based catalog 
"Using existing OCI layout to oc-mirror-workspace/src/catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout"
level=debug msg=resolving host=localhost.localdomain:5001
level=debug msg=do request host=localhost.localdomain:5001 request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://localhost.localdomain:5001/v2/test-catalog-latest/build/test/e2e/operator-test.10545/mirror_oci/oc-mirror-dev/manifests/48e600
level=debug msg=fetch response received host=localhost.localdomain:5001 response.header.content-length=238 response.header.content-type=application/vnd.oci.image.index.v1+json response.header.date=Fri, 15 Mar 2024 16:05:27 GMT response.header.docker-content-digest=sha256:5ea7d4c49807930e1973efca7a113ec8d9eb6fd20d5dbaac6225790e6de1c494 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:5ea7d4c49807930e1973efca7a113ec8d9eb6fd20d5dbaac6225790e6de1c494" response.header.x-content-type-options=nosniff response.status=200 OK url=http://localhost.localdomain:5001/v2/test-catalog-latest/build/test/e2e/operator-test.10545/mirror_oci/oc-mirror-dev/manifests/48e600
level=debug msg=resolved desc.digest=sha256:5ea7d4c49807930e1973efca7a113ec8d9eb6fd20d5dbaac6225790e6de1c494 host=localhost.localdomain:5001
level=debug msg=resolving host=localhost.localdomain:5001
level=debug msg=do request host=localhost.localdomain:5001 request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://localhost.localdomain:5001/v2/test-catalog-latest/build/test/e2e/operator-test.12560/mirror_oci/oc-mirror-dev/manifests/48e600
level=debug msg=fetch response received host=localhost.localdomain:5001 response.header.content-length=238 response.header.content-type=application/vnd.oci.image.index.v1+json response.header.date=Fri, 15 Mar 2024 16:05:27 GMT response.header.docker-content-digest=sha256:365485e311bde0621cc5c8fcf22ad712efd70893073f368611661755a6257969 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:365485e311bde0621cc5c8fcf22ad712efd70893073f368611661755a6257969" response.header.x-content-type-options=nosniff response.status=200 OK url=http://localhost.localdomain:5001/v2/test-catalog-latest/build/test/e2e/operator-test.12560/mirror_oci/oc-mirror-dev/manifests/48e600
level=debug msg=resolved desc.digest=sha256:365485e311bde0621cc5c8fcf22ad712efd70893073f368611661755a6257969 host=localhost.localdomain:5001
level=debug msg=resolving host=localhost.localdomain:5001
level=debug msg=do request host=localhost.localdomain:5001 request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://localhost.localdomain:5001/v2/test-catalog-latest/build/test/e2e/operator-test.29955/mirror_oci/oc-mirror-dev/manifests/48e600
level=debug msg=fetch response received host=localhost.localdomain:5001 response.header.content-length=238 response.header.content-type=application/vnd.oci.image.index.v1+json response.header.date=Fri, 15 Mar 2024 16:05:27 GMT response.header.docker-content-digest=sha256:06d5c8c587e82963d8ab9efd8fcaefa9e7073a1d510508531e916f92d1c88601 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:06d5c8c587e82963d8ab9efd8fcaefa9e7073a1d510508531e916f92d1c88601" response.header.x-content-type-options=nosniff response.status=200 OK url=http://localhost.localdomain:5001/v2/test-catalog-latest/build/test/e2e/operator-test.29955/mirror_oci/oc-mirror-dev/manifests/48e600
level=debug msg=resolved desc.digest=sha256:06d5c8c587e82963d8ab9efd8fcaefa9e7073a1d510508531e916f92d1c88601 host=localhost.localdomain:5001
level=debug msg=resolving host=localhost.localdomain:5001
level=debug msg=do request host=localhost.localdomain:5001 request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://localhost.localdomain:5001/v2/test-catalog-latest/powercloud/oc-mirror-dev/manifests/test-catalog-latest
level=debug msg=fetch response received host=localhost.localdomain:5001 response.header.content-length=238 response.header.content-type=application/vnd.oci.image.index.v1+json response.header.date=Fri, 15 Mar 2024 16:05:27 GMT response.header.docker-content-digest=sha256:b89517eecbce24adf48d769b4ed0f45ab2011e3cfa134d54eaf11c1001b665a0 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:b89517eecbce24adf48d769b4ed0f45ab2011e3cfa134d54eaf11c1001b665a0" response.header.x-content-type-options=nosniff response.status=200 OK url=http://localhost.localdomain:5001/v2/test-catalog-latest/powercloud/oc-mirror-dev/manifests/test-catalog-latest
level=debug msg=resolved desc.digest=sha256:b89517eecbce24adf48d769b4ed0f45ab2011e3cfa134d54eaf11c1001b665a0 host=localhost.localdomain:5001
level=debug msg=resolving host=localhost.localdomain:5001
level=debug msg=do request host=localhost.localdomain:5001 request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://localhost.localdomain:5001/v2/test-catalog-latest/redhatgov/oc-mirror-dev/manifests/test-catalog-latest
level=debug msg=fetch response received host=localhost.localdomain:5001 response.header.content-length=238 response.header.content-type=application/vnd.oci.image.index.v1+json response.header.date=Fri, 15 Mar 2024 16:05:27 GMT response.header.docker-content-digest=sha256:482fac63e21f7de9fe917b2feaffa1824480066c128374806ccf69379320a7b0 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:482fac63e21f7de9fe917b2feaffa1824480066c128374806ccf69379320a7b0" response.header.x-content-type-options=nosniff response.status=200 OK url=http://localhost.localdomain:5001/v2/test-catalog-latest/redhatgov/oc-mirror-dev/manifests/test-catalog-latest
level=debug msg=resolved desc.digest=sha256:482fac63e21f7de9fe917b2feaffa1824480066c128374806ccf69379320a7b0 host=localhost.localdomain:5001
Writing image mapping to oc-mirror-workspace/results-1710518726/mapping.txt
Writing CatalogSource manifests to oc-mirror-workspace/results-1710518726
Writing ICSP manifests to oc-mirror-workspace/results-1710518726
Moved any release signatures to oc-mirror-workspace/results-1710518726
Moved any downloaded Helm charts to oc-mirror-workspace/results-1710518726
Using local backend at location /build/test/e2e/operator-test.29955
looking for metadata file at "publish/.metadata.json"
Resolving operator metadata
Resolving OCP release metadata
looking for metadata file at "publish/.metadata.json"
Pushing metadata to registry at localhost.localdomain:5001/test-catalog-latest/oc-mirror:37a9f5dd-bfa7-4f1a-a291-2d92473eb55a
+ crane digest --insecure localhost.localdomain:5001/test-catalog-latest/powercloud/oc-mirror-dev:bar-v0.1.0
sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df
+ crane digest --insecure localhost.localdomain:5001/test-catalog-latest/openshift/release-images:alpine-x86_64
sha256:a5be0b5297398cfcc4d0663c64ff32bd087f38bf5c474ed998decd72a5b01cd4
+ crane digest --insecure localhost.localdomain:5001/test-catalog-latest/openshift/release:alpine-x86_64-alpime
sha256:b894d7f30f10bc8977039a2fec37834f04bbd5bb2441c18bbfb0ae824a90e711
+ rm -rf test/e2e/graph/main
+ rm -rf test/e2e/graph/server.crt test/e2e/graph/server.key
+ unset SSL_CERT_FILE
+ unset UPDATE_URL_OVERRIDE
+ rm -rf /build/test/e2e/operator-test.29955
+ cleanup_all
+ [[ -n 1482 ]]
+ kill 1482
+ PID_DISONN=
+ [[ -n 1459 ]]
+ kill 1459
+ PID_CON=
+ [[ -n 1571 ]]
+ kill 1571
+ PID_GO=
+ for i in "${!TESTCASES[@]}"
+ echo -e 'INFO: Running headsonly_diff_with_target\n'
INFO: Running headsonly_diff_with_target

+ mkdir -p /build/test/e2e/operator-test.29955
+ setup_reg
+ echo -e 'Setting up registries'
Setting up registries
+ cp /build/test/e2e/e2e-config.yaml /build/test/e2e/operator-test.29955/conn.yaml
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@TMP@/build/test/e2e/operator-test.29955/conn@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@PORT@5000@g '{}' ';'
++ expr 5000 + 10
+ DPORT=5010
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@DEBUG@5010@g '{}' ';'
+ PID_CONN=1867
+ cp /build/test/e2e/e2e-config.yaml /build/test/e2e/operator-test.29955/disconn.yaml
+ registry serve /build/test/e2e/operator-test.29955/conn.yaml
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@TMP@/build/test/e2e/operator-test.29955/disconn@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@PORT@5001@g '{}' ';'
++ expr 5001 + 10
+ DPORT=5011
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@DEBUG@5011@g '{}' ';'
+ PID_DISCONN=1887
+ PID_GO=
+ echo -e 'disconnected registry PID: 1887'
+ registry serve /build/test/e2e/operator-test.29955/disconn.yaml
disconnected registry PID: 1887
+ echo -e 'connected registry PID: 1867'
connected registry PID: 1867
+ headsonly_diff_with_target
+ workflow_full imageset-config-headsonly-newtarget.yaml test-catalog-latest --diff '-c=--source-use-http --source-skip-tls'
+ parse_args imageset-config-headsonly-newtarget.yaml test-catalog-latest --diff '-c=--source-use-http --source-skip-tls'
+ NS=
+ CREATE_FLAGS=
+ PUBLISH_FLAGS=
+ DIFF=false
+ for i in "$@"
+ case "$i" in
+ for i in "$@"
+ case "$i" in
+ for i in "$@"
+ case "$i" in
+ DIFF=true
+ shift
+ for i in "$@"
+ case "$i" in
+ CREATE_FLAGS='--source-use-http --source-skip-tls'
+ shift
+ local config=imageset-config-headsonly-newtarget.yaml
+ local catalog_tag=test-catalog-latest
+ mkdir /build/test/e2e/operator-test.29955/publish_full
+ prep_registry test-catalog-latest
+ local CATALOGTAG=test-catalog-latest
++ arch
++ sed 's|aarch64|arm64|g'
+ local CATALOG_ARCH=ppc64le
+ crane copy --insecure quay.io/powercloud/oc-mirror-dev:test-catalog-latest --platform linux/ppc64le localhost.localdomain:5000/powercloud/oc-mirror-dev:test-catalog-latest
2024/03/15 16:05:28 Copying from quay.io/powercloud/oc-mirror-dev:test-catalog-latest to localhost.localdomain:5000/powercloud/oc-mirror-dev:test-catalog-latest
2024/03/15 16:05:31 pushed blob: sha256:734b0c695300263f1d4f863ffe61ab3694f718ba02d9c3472eb8f2d684a3c63d
2024/03/15 16:05:31 pushed blob: sha256:960043b8858c3c30f1d79dcc49adb2804fd35c2510729e67685b298b2ca746b7
2024/03/15 16:05:31 pushed blob: sha256:eebb06941f3e57b2e40a0e9cbd798dacef9b04d89ebaa8896be5f17c976f8666
2024/03/15 16:05:31 pushed blob: sha256:fe09e3ee53d23c69e397e65622c72a24d06d07a3906237caa7bbcdc4614a3437
2024/03/15 16:05:31 pushed blob: sha256:d3c894b5b2b0fa857549aeb6cbc38b038b5b2828736be37b6d9fff0b886f12fd
2024/03/15 16:05:31 pushed blob: sha256:02cd68c0cbf64abe9738767877756b33f50fff5d88583fdc74b66beffa77694b
2024/03/15 16:05:31 pushed blob: sha256:46ba3f23f1d3fb1440deeb279716e4377e79e61736ec2227270349b9618a0fdd
2024/03/15 16:05:31 pushed blob: sha256:b40161cd83fc5d470d6abe50e87aa288481b6b89137012881d74187cfbf9f502
2024/03/15 16:05:31 pushed blob: sha256:4fa131a1b726b2d6468d461e7d8867a2157d5671f712461d8abd126155fdf9ce
2024/03/15 16:05:31 pushed blob: sha256:49dffd3b924bbe846db2d51d3dc311c43291583afa3d9247cb0f770b1dc7d8a0
2024/03/15 16:05:31 pushed blob: sha256:ebfae302eee5fc9004e4ee4e1f2617fd392aa3ba3128bc521a50a3bca4a63d9a
2024/03/15 16:05:31 pushed blob: sha256:4fd03c0ba7d1c9c91f7856f1e4a30d0c1a253e7036e8810f204d0d1b25847efd
2024/03/15 16:05:31 pushed blob: sha256:c0e82949dd42acbb7545c85ea516c7dbe0794f8206cde3a612b035894bd1835f
2024/03/15 16:05:31 pushed blob: sha256:ee48c95913d9e0c7d32774e827156d2b58e67383bc2fdd1bd54d728470e5d2f0
2024/03/15 16:05:32 pushed blob: sha256:21f8a4e5bf8062782e7f9322067721829fcedb6cc4d93b198819369ed6ad3de4
2024/03/15 16:05:32 localhost.localdomain:5000/powercloud/oc-mirror-dev:test-catalog-latest: digest: sha256:18ff2c8c312e58d5e56dd33224b3494860265737708faf565cb87484908f5283 size: 2527
++ crane digest --insecure --platform linux/ppc64le localhost.localdomain:5000/powercloud/oc-mirror-dev:test-catalog-latest
+ CATALOGDIGEST=sha256:18ff2c8c312e58d5e56dd33224b3494860265737708faf565cb87484908f5283
+ setup_operator_testdata /build/test/e2e/operator-test.29955 /build/test/e2e/operator-test.29955/create_full imageset-config-headsonly-newtarget.yaml false sha256:18ff2c8c312e58d5e56dd33224b3494860265737708faf565cb87484908f5283
+ local DATA_DIR=/build/test/e2e/operator-test.29955
+ local OUTPUT_DIR=/build/test/e2e/operator-test.29955/create_full
+ local CONFIG_PATH=imageset-config-headsonly-newtarget.yaml
+ local DIFF=false
+ local CATALOG_DIGEST=sha256:18ff2c8c312e58d5e56dd33224b3494860265737708faf565cb87484908f5283
+ false
+ INDEX_PATH=latest
+ echo -e '\nSetting up test directory in /build/test/e2e/operator-test.29955'

Setting up test directory in /build/test/e2e/operator-test.29955
+ mkdir -p /build/test/e2e/operator-test.29955/create_full
+ cp /build/test/e2e/configs/imageset-config-headsonly-newtarget.yaml /build/test/e2e/operator-test.29955/create_full/
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@METADATA_CATALOGNAMESPACE@localhost.localdomain:5000/powercloud/oc-mirror-dev@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@METADATA_OCI_CATALOG@oci:///build/test/e2e/artifacts/rhop-ctlg-oci@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@CATALOG_DIGEST@sha256:18ff2c8c312e58d5e56dd33224b3494860265737708faf565cb87484908f5283@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@TARGET_CATALOG_NAME@target-name@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@TARGET_CATALOG_TAG@target-tag@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@DATA_TMP@/build/test/e2e/operator-test.29955@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@MIRROR_OCI_DIR@/build/test/e2e/operator-test.29955/mirror_oci@g '{}' ';'
+ run_cmd --config /build/test/e2e/operator-test.29955/create_full/imageset-config-headsonly-newtarget.yaml file:///build/test/e2e/operator-test.29955/create_full --source-use-http --source-skip-tls
+ local 'test_flags=--verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy'
+ echo /build/bin/oc-mirror --config /build/test/e2e/operator-test.29955/create_full/imageset-config-headsonly-newtarget.yaml file:///build/test/e2e/operator-test.29955/create_full --source-use-http --source-skip-tls --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
/build/bin/oc-mirror --config /build/test/e2e/operator-test.29955/create_full/imageset-config-headsonly-newtarget.yaml file:///build/test/e2e/operator-test.29955/create_full --source-use-http --source-skip-tls --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
+ echo

+ /build/bin/oc-mirror --config /build/test/e2e/operator-test.29955/create_full/imageset-config-headsonly-newtarget.yaml file:///build/test/e2e/operator-test.29955/create_full --source-use-http --source-skip-tls --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
Creating directory: /build/test/e2e/operator-test.29955/create_full/oc-mirror-workspace/src/publish
Creating directory: /build/test/e2e/operator-test.29955/create_full/oc-mirror-workspace/src/v2
Creating directory: /build/test/e2e/operator-test.29955/create_full/oc-mirror-workspace/src/charts
Creating directory: /build/test/e2e/operator-test.29955/create_full/oc-mirror-workspace/src/release-signatures
Using local backend at location /build/test/e2e/operator-test.29955
looking for metadata file at "publish/.metadata.json"
No metadata detected, creating new workspace
level=debug msg=resolving host=localhost.localdomain:5000
level=debug msg=do request host=localhost.localdomain:5000 request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/manifests/test-catalog-latest
level=debug msg=fetch response received host=localhost.localdomain:5000 response.header.content-length=2527 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:05:32 GMT response.header.docker-content-digest=sha256:18ff2c8c312e58d5e56dd33224b3494860265737708faf565cb87484908f5283 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:18ff2c8c312e58d5e56dd33224b3494860265737708faf565cb87484908f5283" response.header.x-content-type-options=nosniff response.status=200 OK url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/manifests/test-catalog-latest
level=debug msg=resolved desc.digest=sha256:18ff2c8c312e58d5e56dd33224b3494860265737708faf565cb87484908f5283 host=localhost.localdomain:5000
level=debug msg=fetch digest=sha256:18ff2c8c312e58d5e56dd33224b3494860265737708faf565cb87484908f5283 mediatype=application/vnd.docker.distribution.manifest.v2+json size=2527
level=debug msg=do request digest=sha256:18ff2c8c312e58d5e56dd33224b3494860265737708faf565cb87484908f5283 mediatype=application/vnd.docker.distribution.manifest.v2+json request.header.accept=application/vnd.docker.distribution.manifest.v2+json, */* request.header.user-agent=opm/alpha request.method=GET size=2527 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/manifests/sha256:18ff2c8c312e58d5e56dd33224b3494860265737708faf565cb87484908f5283
level=debug msg=fetch response received digest=sha256:18ff2c8c312e58d5e56dd33224b3494860265737708faf565cb87484908f5283 mediatype=application/vnd.docker.distribution.manifest.v2+json response.header.content-length=2527 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:05:32 GMT response.header.docker-content-digest=sha256:18ff2c8c312e58d5e56dd33224b3494860265737708faf565cb87484908f5283 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:18ff2c8c312e58d5e56dd33224b3494860265737708faf565cb87484908f5283" response.header.x-content-type-options=nosniff response.status=200 OK size=2527 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/manifests/sha256:18ff2c8c312e58d5e56dd33224b3494860265737708faf565cb87484908f5283
level=debug msg=fetch digest=sha256:21f8a4e5bf8062782e7f9322067721829fcedb6cc4d93b198819369ed6ad3de4 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=7822
level=debug msg=fetch digest=sha256:734b0c695300263f1d4f863ffe61ab3694f718ba02d9c3472eb8f2d684a3c63d mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=83961
level=debug msg=fetch digest=sha256:c0e82949dd42acbb7545c85ea516c7dbe0794f8206cde3a612b035894bd1835f mediatype=application/vnd.docker.container.image.v1+json size=4225
level=debug msg=fetch digest=sha256:49dffd3b924bbe846db2d51d3dc311c43291583afa3d9247cb0f770b1dc7d8a0 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=158
level=debug msg=fetch digest=sha256:ebfae302eee5fc9004e4ee4e1f2617fd392aa3ba3128bc521a50a3bca4a63d9a mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=812971
level=debug msg=fetch digest=sha256:fe09e3ee53d23c69e397e65622c72a24d06d07a3906237caa7bbcdc4614a3437 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=599674
level=debug msg=fetch digest=sha256:960043b8858c3c30f1d79dcc49adb2804fd35c2510729e67685b298b2ca746b7 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=20322
level=debug msg=fetch digest=sha256:eebb06941f3e57b2e40a0e9cbd798dacef9b04d89ebaa8896be5f17c976f8666 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=284
level=debug msg=fetch digest=sha256:02cd68c0cbf64abe9738767877756b33f50fff5d88583fdc74b66beffa77694b mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=188
level=debug msg=fetch digest=sha256:b40161cd83fc5d470d6abe50e87aa288481b6b89137012881d74187cfbf9f502 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=382
level=debug msg=fetch digest=sha256:4fd03c0ba7d1c9c91f7856f1e4a30d0c1a253e7036e8810f204d0d1b25847efd mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=3439974
level=debug msg=fetch digest=sha256:d3c894b5b2b0fa857549aeb6cbc38b038b5b2828736be37b6d9fff0b886f12fd mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=112
level=debug msg=fetch digest=sha256:ee48c95913d9e0c7d32774e827156d2b58e67383bc2fdd1bd54d728470e5d2f0 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=16702498
level=debug msg=fetch digest=sha256:4fa131a1b726b2d6468d461e7d8867a2157d5671f712461d8abd126155fdf9ce mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=122108
level=debug msg=fetch digest=sha256:46ba3f23f1d3fb1440deeb279716e4377e79e61736ec2227270349b9618a0fdd mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=345
level=debug msg=do request digest=sha256:21f8a4e5bf8062782e7f9322067721829fcedb6cc4d93b198819369ed6ad3de4 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=7822 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:21f8a4e5bf8062782e7f9322067721829fcedb6cc4d93b198819369ed6ad3de4
level=debug msg=fetch response received digest=sha256:21f8a4e5bf8062782e7f9322067721829fcedb6cc4d93b198819369ed6ad3de4 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=7822 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:32 GMT response.header.docker-content-digest=sha256:21f8a4e5bf8062782e7f9322067721829fcedb6cc4d93b198819369ed6ad3de4 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:21f8a4e5bf8062782e7f9322067721829fcedb6cc4d93b198819369ed6ad3de4" response.header.x-content-type-options=nosniff response.status=200 OK size=7822 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:21f8a4e5bf8062782e7f9322067721829fcedb6cc4d93b198819369ed6ad3de4
level=debug msg=do request digest=sha256:c0e82949dd42acbb7545c85ea516c7dbe0794f8206cde3a612b035894bd1835f mediatype=application/vnd.docker.container.image.v1+json request.header.accept=application/vnd.docker.container.image.v1+json, */* request.header.user-agent=opm/alpha request.method=GET size=4225 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:c0e82949dd42acbb7545c85ea516c7dbe0794f8206cde3a612b035894bd1835f
level=debug msg=fetch response received digest=sha256:c0e82949dd42acbb7545c85ea516c7dbe0794f8206cde3a612b035894bd1835f mediatype=application/vnd.docker.container.image.v1+json response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=4225 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:32 GMT response.header.docker-content-digest=sha256:c0e82949dd42acbb7545c85ea516c7dbe0794f8206cde3a612b035894bd1835f response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:c0e82949dd42acbb7545c85ea516c7dbe0794f8206cde3a612b035894bd1835f" response.header.x-content-type-options=nosniff response.status=200 OK size=4225 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:c0e82949dd42acbb7545c85ea516c7dbe0794f8206cde3a612b035894bd1835f
level=debug msg=do request digest=sha256:49dffd3b924bbe846db2d51d3dc311c43291583afa3d9247cb0f770b1dc7d8a0 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=158 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:49dffd3b924bbe846db2d51d3dc311c43291583afa3d9247cb0f770b1dc7d8a0
level=debug msg=fetch response received digest=sha256:49dffd3b924bbe846db2d51d3dc311c43291583afa3d9247cb0f770b1dc7d8a0 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=158 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:32 GMT response.header.docker-content-digest=sha256:49dffd3b924bbe846db2d51d3dc311c43291583afa3d9247cb0f770b1dc7d8a0 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:49dffd3b924bbe846db2d51d3dc311c43291583afa3d9247cb0f770b1dc7d8a0" response.header.x-content-type-options=nosniff response.status=200 OK size=158 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:49dffd3b924bbe846db2d51d3dc311c43291583afa3d9247cb0f770b1dc7d8a0
level=debug msg=do request digest=sha256:734b0c695300263f1d4f863ffe61ab3694f718ba02d9c3472eb8f2d684a3c63d mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=83961 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:734b0c695300263f1d4f863ffe61ab3694f718ba02d9c3472eb8f2d684a3c63d
level=debug msg=fetch response received digest=sha256:734b0c695300263f1d4f863ffe61ab3694f718ba02d9c3472eb8f2d684a3c63d mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=83961 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:32 GMT response.header.docker-content-digest=sha256:734b0c695300263f1d4f863ffe61ab3694f718ba02d9c3472eb8f2d684a3c63d response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:734b0c695300263f1d4f863ffe61ab3694f718ba02d9c3472eb8f2d684a3c63d" response.header.x-content-type-options=nosniff response.status=200 OK size=83961 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:734b0c695300263f1d4f863ffe61ab3694f718ba02d9c3472eb8f2d684a3c63d
level=debug msg=do request digest=sha256:ebfae302eee5fc9004e4ee4e1f2617fd392aa3ba3128bc521a50a3bca4a63d9a mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=812971 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:ebfae302eee5fc9004e4ee4e1f2617fd392aa3ba3128bc521a50a3bca4a63d9a
level=debug msg=do request digest=sha256:960043b8858c3c30f1d79dcc49adb2804fd35c2510729e67685b298b2ca746b7 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=20322 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:960043b8858c3c30f1d79dcc49adb2804fd35c2510729e67685b298b2ca746b7
level=debug msg=fetch response received digest=sha256:ebfae302eee5fc9004e4ee4e1f2617fd392aa3ba3128bc521a50a3bca4a63d9a mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=812971 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:32 GMT response.header.docker-content-digest=sha256:ebfae302eee5fc9004e4ee4e1f2617fd392aa3ba3128bc521a50a3bca4a63d9a response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:ebfae302eee5fc9004e4ee4e1f2617fd392aa3ba3128bc521a50a3bca4a63d9a" response.header.x-content-type-options=nosniff response.status=200 OK size=812971 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:ebfae302eee5fc9004e4ee4e1f2617fd392aa3ba3128bc521a50a3bca4a63d9a
level=debug msg=do request digest=sha256:eebb06941f3e57b2e40a0e9cbd798dacef9b04d89ebaa8896be5f17c976f8666 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=284 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:eebb06941f3e57b2e40a0e9cbd798dacef9b04d89ebaa8896be5f17c976f8666
level=debug msg=fetch response received digest=sha256:960043b8858c3c30f1d79dcc49adb2804fd35c2510729e67685b298b2ca746b7 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=20322 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:32 GMT response.header.docker-content-digest=sha256:960043b8858c3c30f1d79dcc49adb2804fd35c2510729e67685b298b2ca746b7 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:960043b8858c3c30f1d79dcc49adb2804fd35c2510729e67685b298b2ca746b7" response.header.x-content-type-options=nosniff response.status=200 OK size=20322 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:960043b8858c3c30f1d79dcc49adb2804fd35c2510729e67685b298b2ca746b7
level=debug msg=fetch response received digest=sha256:eebb06941f3e57b2e40a0e9cbd798dacef9b04d89ebaa8896be5f17c976f8666 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=284 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:32 GMT response.header.docker-content-digest=sha256:eebb06941f3e57b2e40a0e9cbd798dacef9b04d89ebaa8896be5f17c976f8666 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:eebb06941f3e57b2e40a0e9cbd798dacef9b04d89ebaa8896be5f17c976f8666" response.header.x-content-type-options=nosniff response.status=200 OK size=284 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:eebb06941f3e57b2e40a0e9cbd798dacef9b04d89ebaa8896be5f17c976f8666
level=debug msg=do request digest=sha256:fe09e3ee53d23c69e397e65622c72a24d06d07a3906237caa7bbcdc4614a3437 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=599674 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:fe09e3ee53d23c69e397e65622c72a24d06d07a3906237caa7bbcdc4614a3437
level=debug msg=fetch response received digest=sha256:fe09e3ee53d23c69e397e65622c72a24d06d07a3906237caa7bbcdc4614a3437 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=599674 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:32 GMT response.header.docker-content-digest=sha256:fe09e3ee53d23c69e397e65622c72a24d06d07a3906237caa7bbcdc4614a3437 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:fe09e3ee53d23c69e397e65622c72a24d06d07a3906237caa7bbcdc4614a3437" response.header.x-content-type-options=nosniff response.status=200 OK size=599674 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:fe09e3ee53d23c69e397e65622c72a24d06d07a3906237caa7bbcdc4614a3437
level=debug msg=do request digest=sha256:b40161cd83fc5d470d6abe50e87aa288481b6b89137012881d74187cfbf9f502 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=382 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:b40161cd83fc5d470d6abe50e87aa288481b6b89137012881d74187cfbf9f502
level=debug msg=do request digest=sha256:02cd68c0cbf64abe9738767877756b33f50fff5d88583fdc74b66beffa77694b mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=188 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:02cd68c0cbf64abe9738767877756b33f50fff5d88583fdc74b66beffa77694b
level=debug msg=fetch response received digest=sha256:b40161cd83fc5d470d6abe50e87aa288481b6b89137012881d74187cfbf9f502 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=382 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:32 GMT response.header.docker-content-digest=sha256:b40161cd83fc5d470d6abe50e87aa288481b6b89137012881d74187cfbf9f502 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:b40161cd83fc5d470d6abe50e87aa288481b6b89137012881d74187cfbf9f502" response.header.x-content-type-options=nosniff response.status=200 OK size=382 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:b40161cd83fc5d470d6abe50e87aa288481b6b89137012881d74187cfbf9f502
level=debug msg=fetch response received digest=sha256:02cd68c0cbf64abe9738767877756b33f50fff5d88583fdc74b66beffa77694b mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=188 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:32 GMT response.header.docker-content-digest=sha256:02cd68c0cbf64abe9738767877756b33f50fff5d88583fdc74b66beffa77694b response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:02cd68c0cbf64abe9738767877756b33f50fff5d88583fdc74b66beffa77694b" response.header.x-content-type-options=nosniff response.status=200 OK size=188 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:02cd68c0cbf64abe9738767877756b33f50fff5d88583fdc74b66beffa77694b
level=debug msg=do request digest=sha256:4fd03c0ba7d1c9c91f7856f1e4a30d0c1a253e7036e8810f204d0d1b25847efd mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=3439974 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:4fd03c0ba7d1c9c91f7856f1e4a30d0c1a253e7036e8810f204d0d1b25847efd
level=debug msg=fetch response received digest=sha256:4fd03c0ba7d1c9c91f7856f1e4a30d0c1a253e7036e8810f204d0d1b25847efd mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=3439974 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:32 GMT response.header.docker-content-digest=sha256:4fd03c0ba7d1c9c91f7856f1e4a30d0c1a253e7036e8810f204d0d1b25847efd response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:4fd03c0ba7d1c9c91f7856f1e4a30d0c1a253e7036e8810f204d0d1b25847efd" response.header.x-content-type-options=nosniff response.status=200 OK size=3439974 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:4fd03c0ba7d1c9c91f7856f1e4a30d0c1a253e7036e8810f204d0d1b25847efd
level=debug msg=do request digest=sha256:d3c894b5b2b0fa857549aeb6cbc38b038b5b2828736be37b6d9fff0b886f12fd mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=112 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:d3c894b5b2b0fa857549aeb6cbc38b038b5b2828736be37b6d9fff0b886f12fd
level=debug msg=fetch response received digest=sha256:d3c894b5b2b0fa857549aeb6cbc38b038b5b2828736be37b6d9fff0b886f12fd mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=112 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:32 GMT response.header.docker-content-digest=sha256:d3c894b5b2b0fa857549aeb6cbc38b038b5b2828736be37b6d9fff0b886f12fd response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:d3c894b5b2b0fa857549aeb6cbc38b038b5b2828736be37b6d9fff0b886f12fd" response.header.x-content-type-options=nosniff response.status=200 OK size=112 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:d3c894b5b2b0fa857549aeb6cbc38b038b5b2828736be37b6d9fff0b886f12fd
level=debug msg=do request digest=sha256:ee48c95913d9e0c7d32774e827156d2b58e67383bc2fdd1bd54d728470e5d2f0 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=16702498 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:ee48c95913d9e0c7d32774e827156d2b58e67383bc2fdd1bd54d728470e5d2f0
level=debug msg=do request digest=sha256:4fa131a1b726b2d6468d461e7d8867a2157d5671f712461d8abd126155fdf9ce mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=122108 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:4fa131a1b726b2d6468d461e7d8867a2157d5671f712461d8abd126155fdf9ce
level=debug msg=fetch response received digest=sha256:ee48c95913d9e0c7d32774e827156d2b58e67383bc2fdd1bd54d728470e5d2f0 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=16702498 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:32 GMT response.header.docker-content-digest=sha256:ee48c95913d9e0c7d32774e827156d2b58e67383bc2fdd1bd54d728470e5d2f0 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:ee48c95913d9e0c7d32774e827156d2b58e67383bc2fdd1bd54d728470e5d2f0" response.header.x-content-type-options=nosniff response.status=200 OK size=16702498 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:ee48c95913d9e0c7d32774e827156d2b58e67383bc2fdd1bd54d728470e5d2f0
level=debug msg=do request digest=sha256:46ba3f23f1d3fb1440deeb279716e4377e79e61736ec2227270349b9618a0fdd mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=345 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:46ba3f23f1d3fb1440deeb279716e4377e79e61736ec2227270349b9618a0fdd
level=debug msg=fetch response received digest=sha256:4fa131a1b726b2d6468d461e7d8867a2157d5671f712461d8abd126155fdf9ce mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=122108 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:32 GMT response.header.docker-content-digest=sha256:4fa131a1b726b2d6468d461e7d8867a2157d5671f712461d8abd126155fdf9ce response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:4fa131a1b726b2d6468d461e7d8867a2157d5671f712461d8abd126155fdf9ce" response.header.x-content-type-options=nosniff response.status=200 OK size=122108 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:4fa131a1b726b2d6468d461e7d8867a2157d5671f712461d8abd126155fdf9ce
level=debug msg=fetch response received digest=sha256:46ba3f23f1d3fb1440deeb279716e4377e79e61736ec2227270349b9618a0fdd mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=345 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:32 GMT response.header.docker-content-digest=sha256:46ba3f23f1d3fb1440deeb279716e4377e79e61736ec2227270349b9618a0fdd response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:46ba3f23f1d3fb1440deeb279716e4377e79e61736ec2227270349b9618a0fdd" response.header.x-content-type-options=nosniff response.status=200 OK size=345 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:46ba3f23f1d3fb1440deeb279716e4377e79e61736ec2227270349b9618a0fdd
level=debug msg=using pigz for decompression
level=debug msg=file "." ignored: resolved to root
bundle bar.v0.1.0: pinning bundle image quay.io/powercloud/oc-mirror-dev:bar-bundle-v0.1.0 to digest
bundle bar.v0.1.0: pinning bundle image quay.io/powercloud/oc-mirror-dev:bar-bundle-v0.1.0 to digest
level=debug msg=resolving host=quay.io
level=debug msg=do request host=quay.io request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/bar-bundle-v0.1.0
level=debug msg=fetch response received host=quay.io response.header.connection=keep-alive response.header.content-length=585 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:05:34 GMT response.header.docker-content-digest=sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99 response.header.server=nginx/1.22.1 response.header.strict-transport-security=max-age=63072000; preload response.header.vary=Cookie response.header.x-frame-options=DENY response.status=200 OK url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/bar-bundle-v0.1.0
level=debug msg=resolved desc.digest=sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99 host=quay.io
bundle bar.v0.2.0: pinning bundle image quay.io/powercloud/oc-mirror-dev:bar-bundle-v0.2.0 to digest
bundle bar.v0.2.0: pinning bundle image quay.io/powercloud/oc-mirror-dev:bar-bundle-v0.2.0 to digest
level=debug msg=resolving host=quay.io
level=debug msg=do request host=quay.io request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/bar-bundle-v0.2.0
level=debug msg=fetch response received host=quay.io response.header.connection=keep-alive response.header.content-length=585 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:05:34 GMT response.header.docker-content-digest=sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940 response.header.server=nginx/1.22.1 response.header.strict-transport-security=max-age=63072000; preload response.header.vary=Cookie response.header.x-frame-options=DENY response.status=200 OK url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/bar-bundle-v0.2.0
level=debug msg=resolved desc.digest=sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940 host=quay.io
bundle bar.v1.0.0: pinning bundle image quay.io/powercloud/oc-mirror-dev:bar-bundle-v1.0.0 to digest
bundle bar.v1.0.0: pinning bundle image quay.io/powercloud/oc-mirror-dev:bar-bundle-v1.0.0 to digest
level=debug msg=resolving host=quay.io
level=debug msg=do request host=quay.io request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/bar-bundle-v1.0.0
level=debug msg=fetch response received host=quay.io response.header.connection=keep-alive response.header.content-length=585 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:05:34 GMT response.header.docker-content-digest=sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5 response.header.server=nginx/1.22.1 response.header.strict-transport-security=max-age=63072000; preload response.header.vary=Cookie response.header.x-frame-options=DENY response.status=200 OK url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/bar-bundle-v1.0.0
level=debug msg=resolved desc.digest=sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5 host=quay.io
bundle baz.v1.1.0: pinning bundle image quay.io/powercloud/oc-mirror-dev:baz-bundle-v1.1.0 to digest
bundle baz.v1.1.0: pinning bundle image quay.io/powercloud/oc-mirror-dev:baz-bundle-v1.1.0 to digest
level=debug msg=resolving host=quay.io
level=debug msg=do request host=quay.io request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/baz-bundle-v1.1.0
level=debug msg=fetch response received host=quay.io response.header.connection=keep-alive response.header.content-length=585 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:05:39 GMT response.header.docker-content-digest=sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0 response.header.server=nginx/1.22.1 response.header.strict-transport-security=max-age=63072000; preload response.header.vary=Cookie response.header.x-frame-options=DENY response.status=200 OK url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/baz-bundle-v1.1.0
level=debug msg=resolved desc.digest=sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0 host=quay.io
bundle foo.v0.3.1: pinning bundle image quay.io/powercloud/oc-mirror-dev:foo-bundle-v0.3.1 to digest
bundle foo.v0.3.1: pinning bundle image quay.io/powercloud/oc-mirror-dev:foo-bundle-v0.3.1 to digest
level=debug msg=resolving host=quay.io
level=debug msg=do request host=quay.io request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/foo-bundle-v0.3.1
level=debug msg=fetch response received host=quay.io response.header.connection=keep-alive response.header.content-length=585 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:05:39 GMT response.header.docker-content-digest=sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf response.header.server=nginx/1.22.1 response.header.strict-transport-security=max-age=63072000; preload response.header.vary=Cookie response.header.x-frame-options=DENY response.status=200 OK url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/foo-bundle-v0.3.1
level=debug msg=resolved desc.digest=sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf host=quay.io
wrote mirroring manifests to /build/test/e2e/operator-test.29955/create_full/oc-mirror-workspace/operators.1710518732/manifests-oc-mirror-dev

To upload local images to a registry, run:

	oc adm catalog mirror file://powercloud/oc-mirror-dev:test-catalog-latest REGISTRY/REPOSITORY
Repository https://registry-1.docker.io powercloud/oc-mirror-dev
Repository https://registry-1.docker.io powercloud/oc-mirror-dev
Repository https://registry-1.docker.io powercloud/oc-mirror-dev
Repository https://registry-1.docker.io powercloud/oc-mirror-dev
Repository https://registry-1.docker.io powercloud/oc-mirror-dev
Repository https://registry-1.docker.io powercloud/oc-mirror-dev
worker 1 stopping
<dir>
worker 0 stopping
  powercloud/oc-mirror-dev
worker 1 stopping
    blobs:
worker 3 stopping
worker 4 stopping
      quay.io/powercloud/oc-mirror-dev sha256:bb0f096c05d39505004f567b53d7c06dbe544bc6d84bb98d20d91ced20323ce7 218B
      quay.io/powercloud/oc-mirror-dev sha256:079db560919e9e7324f4fe8df18ab69527322286a7b9677e39ad146a41b5d614 229B
      quay.io/powercloud/oc-mirror-dev sha256:2d028758cd21e419631c4d572a885b1e1a0d34972875188256bfeb3b9676999d 229B
worker 0 stopping
      quay.io/powercloud/oc-mirror-dev sha256:eb8e7564b1a7ced15816c6f61a521d0ab7dbe481bbb85b2f29e36b4a1ec74e06 229B
work queue exiting
      quay.io/powercloud/oc-mirror-dev sha256:6499018b4bae31769d48d08a536ca832d5f69b1ebadf7eca51e4a3eb06839f48 236B
worker 2 stopping
      quay.io/powercloud/oc-mirror-dev sha256:8e4144d978d2807df278285c20073c4b6af103cdf864a85ed5706de3e743e059 350B
worker 3 stopping
      quay.io/powercloud/oc-mirror-dev sha256:7d51d1c7e67c60e7599b9d637c025f9fb3737daadeb9c5a1480d53da31af4b42 1.615KiB
      quay.io/powercloud/oc-mirror-dev sha256:c71488c512493db1d7379dcbf01717245c2ddab69f300ce7daf1742420e0a150 1.624KiB
      quay.io/powercloud/oc-mirror-dev sha256:104bf6f88f1ebe9c7b9a68a0f081022b68a18d91f72fe15118463c75e0785150 1.632KiB
      quay.io/powercloud/oc-mirror-dev sha256:b13b7a539f58eed2e83fe31c92175fd1ebb92b05775904f8a3b97d0d39f03202 1.642KiB
worker 2 stopping
      quay.io/powercloud/oc-mirror-dev sha256:160489f92f159492fcb40764713a5353726c484f70187db1eb44494fe4cb942e 1.651KiB
work queue exiting
      quay.io/powercloud/oc-mirror-dev sha256:4e7fee3142df14eb295570f9fd4331fccd70fd129e5a5820a5835169d7633b9c 2.44KiB
worker 5 stopping
      quay.io/powercloud/oc-mirror-dev sha256:6ecb488e9007271fe63cb27d00934e0fabb54c55cdf3d99b5a86bbcb9eb74470 3.063KiB
      quay.io/powercloud/oc-mirror-dev sha256:540ab009d7bbf3435e969bdfd7a8943588919ce11df87644b31b73f83870acd8 3.066KiB
      quay.io/powercloud/oc-mirror-dev sha256:5d3e8b2a67479ce1998cf774bed705f741ef3ecfac693dc94d432e8a7384f24d 3.066KiB
      quay.io/powercloud/oc-mirror-dev sha256:3f3f2730e3649952d83b2309d2f96e35ff5302de389a9c3f71417d0cd7f41fa7 3.067KiB
      quay.io/powercloud/oc-mirror-dev sha256:4d025ac471b48c24869967f2305b5fe231efe994e2fa7aa82c2fe9e22195026b 3.07KiB
      quay.io/powercloud/oc-mirror-dev sha256:7c251ec1f052524ecd7d6cb049b06fae03248ce89681b2b9c3549f2d60de3858 798.1KiB
      quay.io/powercloud/oc-mirror-dev sha256:cef026ec9c692bf3960c12a4ce4e35d4a9398dc8b8a9db8ecf1ac07e9cb3c618 808KiB
    manifests:
      sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0 -> 804e3fa1
      sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf -> 3fff0343
      sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5 -> e9ef9b09
      sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df -> cc185fd6
      sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940 -> 18ca5d9c
      sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99 -> 2cc1d002
  stats: shared=0 unique=19 size=1.595MiB ratio=1.00

phase 0:
   powercloud/oc-mirror-dev blobs=19 mounts=0 manifests=6 shared=0

info: Planning completed in 3.43s
uploading: file://powercloud/oc-mirror-dev sha256:cef026ec9c692bf3960c12a4ce4e35d4a9398dc8b8a9db8ecf1ac07e9cb3c618 808KiB
uploading: file://powercloud/oc-mirror-dev sha256:7c251ec1f052524ecd7d6cb049b06fae03248ce89681b2b9c3549f2d60de3858 798.1KiB
sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df file://powercloud/oc-mirror-dev:cc185fd6
sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99 file://powercloud/oc-mirror-dev:2cc1d002
sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf file://powercloud/oc-mirror-dev:3fff0343
sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0 file://powercloud/oc-mirror-dev:804e3fa1
sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940 file://powercloud/oc-mirror-dev:18ca5d9c
sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5 file://powercloud/oc-mirror-dev:e9ef9b09
info: Mirroring completed in 3.44s (486.2kB/s)
worker 1 stopping
worker 2 stopping
worker 3 stopping
worker 2 stopping
worker 1 stopping
worker 5 stopping
worker 4 stopping
worker 3 stopping
worker 0 stopping
worker 0 stopping
work queue exiting
work queue exiting
Adding blob sha256:079db560919e9e7324f4fe8df18ab69527322286a7b9677e39ad146a41b5d614
Adding blob sha256:104bf6f88f1ebe9c7b9a68a0f081022b68a18d91f72fe15118463c75e0785150
Adding blob sha256:160489f92f159492fcb40764713a5353726c484f70187db1eb44494fe4cb942e
Adding blob sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0
Adding blob sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf
Adding blob sha256:2d028758cd21e419631c4d572a885b1e1a0d34972875188256bfeb3b9676999d
Adding blob sha256:3f3f2730e3649952d83b2309d2f96e35ff5302de389a9c3f71417d0cd7f41fa7
Adding blob sha256:4d025ac471b48c24869967f2305b5fe231efe994e2fa7aa82c2fe9e22195026b
Adding blob sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5
Adding blob sha256:4e7fee3142df14eb295570f9fd4331fccd70fd129e5a5820a5835169d7633b9c
Adding blob sha256:540ab009d7bbf3435e969bdfd7a8943588919ce11df87644b31b73f83870acd8
Adding blob sha256:5d3e8b2a67479ce1998cf774bed705f741ef3ecfac693dc94d432e8a7384f24d
Adding blob sha256:6499018b4bae31769d48d08a536ca832d5f69b1ebadf7eca51e4a3eb06839f48
Adding blob sha256:6ecb488e9007271fe63cb27d00934e0fabb54c55cdf3d99b5a86bbcb9eb74470
Adding blob sha256:7c251ec1f052524ecd7d6cb049b06fae03248ce89681b2b9c3549f2d60de3858
Adding blob sha256:7d51d1c7e67c60e7599b9d637c025f9fb3737daadeb9c5a1480d53da31af4b42
Adding blob sha256:8e4144d978d2807df278285c20073c4b6af103cdf864a85ed5706de3e743e059
Adding blob sha256:b13b7a539f58eed2e83fe31c92175fd1ebb92b05775904f8a3b97d0d39f03202
Adding blob sha256:bb0f096c05d39505004f567b53d7c06dbe544bc6d84bb98d20d91ced20323ce7
Adding blob sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df
Adding blob sha256:c71488c512493db1d7379dcbf01717245c2ddab69f300ce7daf1742420e0a150
Adding blob sha256:cef026ec9c692bf3960c12a4ce4e35d4a9398dc8b8a9db8ecf1ac07e9cb3c618
Adding blob sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940
Adding blob sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99
Adding blob sha256:eb8e7564b1a7ced15816c6f61a521d0ab7dbe481bbb85b2f29e36b4a1ec74e06
looking for metadata file at "publish/.metadata.json"
Resolving operator metadata
level=debug msg=resolving host=localhost.localdomain:5000
level=debug msg=do request host=localhost.localdomain:5000 request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/manifests/test-catalog-latest
level=debug msg=fetch response received host=localhost.localdomain:5000 response.header.content-length=2527 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:05:46 GMT response.header.docker-content-digest=sha256:18ff2c8c312e58d5e56dd33224b3494860265737708faf565cb87484908f5283 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:18ff2c8c312e58d5e56dd33224b3494860265737708faf565cb87484908f5283" response.header.x-content-type-options=nosniff response.status=200 OK url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/manifests/test-catalog-latest
level=debug msg=resolved desc.digest=sha256:18ff2c8c312e58d5e56dd33224b3494860265737708faf565cb87484908f5283 host=localhost.localdomain:5000
Resolving OCP release metadata
Creating archive /build/test/e2e/operator-test.29955/create_full/mirror_seq1_000000.tar
File . will not be archived, skipping...
File catalogs added to archive
File catalogs/localhost.localdomain:5000 added to archive
File catalogs/localhost.localdomain:5000/powercloud added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/bin added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/bin/opm added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/cacheLocation.txt added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/include-config.gob added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/index added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/index/index.json added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256 added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/02cd68c0cbf64abe9738767877756b33f50fff5d88583fdc74b66beffa77694b added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/18ff2c8c312e58d5e56dd33224b3494860265737708faf565cb87484908f5283 added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/21f8a4e5bf8062782e7f9322067721829fcedb6cc4d93b198819369ed6ad3de4 added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/46ba3f23f1d3fb1440deeb279716e4377e79e61736ec2227270349b9618a0fdd added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/49dffd3b924bbe846db2d51d3dc311c43291583afa3d9247cb0f770b1dc7d8a0 added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/4fa131a1b726b2d6468d461e7d8867a2157d5671f712461d8abd126155fdf9ce added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/4fd03c0ba7d1c9c91f7856f1e4a30d0c1a253e7036e8810f204d0d1b25847efd added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/734b0c695300263f1d4f863ffe61ab3694f718ba02d9c3472eb8f2d684a3c63d added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/960043b8858c3c30f1d79dcc49adb2804fd35c2510729e67685b298b2ca746b7 added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/b40161cd83fc5d470d6abe50e87aa288481b6b89137012881d74187cfbf9f502 added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/c0e82949dd42acbb7545c85ea516c7dbe0794f8206cde3a612b035894bd1835f added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/d3c894b5b2b0fa857549aeb6cbc38b038b5b2828736be37b6d9fff0b886f12fd added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/ebfae302eee5fc9004e4ee4e1f2617fd392aa3ba3128bc521a50a3bca4a63d9a added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/ee48c95913d9e0c7d32774e827156d2b58e67383bc2fdd1bd54d728470e5d2f0 added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/eebb06941f3e57b2e40a0e9cbd798dacef9b04d89ebaa8896be5f17c976f8666 added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/fe09e3ee53d23c69e397e65622c72a24d06d07a3906237caa7bbcdc4614a3437 added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/index.json added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/oci-layout added to archive
File charts added to archive
File publish will not be archived, skipping...
File release-signatures added to archive
File tmpbackend.1710518746 will not be archived, skipping...
File tmpbackend.1710518746/publish will not be archived, skipping...
File tmpbackend.1710518746/publish/.metadata.json will not be archived, skipping...
File v2 will not be archived, skipping...
File v2/powercloud will not be archived, skipping...
File v2/powercloud/oc-mirror-dev will not be archived, skipping...
File v2/powercloud/oc-mirror-dev/blobs will not be archived, skipping...
File v2/powercloud/oc-mirror-dev/blobs/sha256:079db560919e9e7324f4fe8df18ab69527322286a7b9677e39ad146a41b5d614 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:104bf6f88f1ebe9c7b9a68a0f081022b68a18d91f72fe15118463c75e0785150 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:160489f92f159492fcb40764713a5353726c484f70187db1eb44494fe4cb942e added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:2d028758cd21e419631c4d572a885b1e1a0d34972875188256bfeb3b9676999d added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:3f3f2730e3649952d83b2309d2f96e35ff5302de389a9c3f71417d0cd7f41fa7 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:4d025ac471b48c24869967f2305b5fe231efe994e2fa7aa82c2fe9e22195026b added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:4e7fee3142df14eb295570f9fd4331fccd70fd129e5a5820a5835169d7633b9c added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:540ab009d7bbf3435e969bdfd7a8943588919ce11df87644b31b73f83870acd8 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:5d3e8b2a67479ce1998cf774bed705f741ef3ecfac693dc94d432e8a7384f24d added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:6499018b4bae31769d48d08a536ca832d5f69b1ebadf7eca51e4a3eb06839f48 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:6ecb488e9007271fe63cb27d00934e0fabb54c55cdf3d99b5a86bbcb9eb74470 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:7c251ec1f052524ecd7d6cb049b06fae03248ce89681b2b9c3549f2d60de3858 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:7d51d1c7e67c60e7599b9d637c025f9fb3737daadeb9c5a1480d53da31af4b42 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:8e4144d978d2807df278285c20073c4b6af103cdf864a85ed5706de3e743e059 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:b13b7a539f58eed2e83fe31c92175fd1ebb92b05775904f8a3b97d0d39f03202 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:bb0f096c05d39505004f567b53d7c06dbe544bc6d84bb98d20d91ced20323ce7 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:c71488c512493db1d7379dcbf01717245c2ddab69f300ce7daf1742420e0a150 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:cef026ec9c692bf3960c12a4ce4e35d4a9398dc8b8a9db8ecf1ac07e9cb3c618 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:eb8e7564b1a7ced15816c6f61a521d0ab7dbe481bbb85b2f29e36b4a1ec74e06 added to archive
File v2/powercloud/oc-mirror-dev/manifests will not be archived, skipping...
File v2/powercloud/oc-mirror-dev/manifests/18ca5d9c added to archive
File v2/powercloud/oc-mirror-dev/manifests/2cc1d002 added to archive
File v2/powercloud/oc-mirror-dev/manifests/3fff0343 added to archive
File v2/powercloud/oc-mirror-dev/manifests/804e3fa1 added to archive
File v2/powercloud/oc-mirror-dev/manifests/cc185fd6 added to archive
File v2/powercloud/oc-mirror-dev/manifests/e9ef9b09 added to archive
File v2/powercloud/oc-mirror-dev/manifests/sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0 added to archive
File v2/powercloud/oc-mirror-dev/manifests/sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf added to archive
File v2/powercloud/oc-mirror-dev/manifests/sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5 added to archive
File v2/powercloud/oc-mirror-dev/manifests/sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df added to archive
File v2/powercloud/oc-mirror-dev/manifests/sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940 added to archive
File v2/powercloud/oc-mirror-dev/manifests/sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99 added to archive
Using local backend at location /build/test/e2e/operator-test.29955
looking for metadata file at "publish/.metadata.json"
+ pushd /build/test/e2e/operator-test.29955/publish_full
/build/test/e2e/operator-test.29955/publish_full /build
+ '!true'
/build/test/e2e/lib/workflow.sh: line 17: !true: command not found
+ run_cmd --from /build/test/e2e/operator-test.29955/create_full/mirror_seq1_000000.tar docker://localhost.localdomain:5001
+ local 'test_flags=--verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy'
+ echo /build/bin/oc-mirror --from /build/test/e2e/operator-test.29955/create_full/mirror_seq1_000000.tar docker://localhost.localdomain:5001 --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
/build/bin/oc-mirror --from /build/test/e2e/operator-test.29955/create_full/mirror_seq1_000000.tar docker://localhost.localdomain:5001 --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
+ echo

+ /build/bin/oc-mirror --from /build/test/e2e/operator-test.29955/create_full/mirror_seq1_000000.tar docker://localhost.localdomain:5001 --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
Checking push permissions for localhost.localdomain:5001
Using image localhost.localdomain:5001/oc-mirror to check permissions
Publishing image set from archive "/build/test/e2e/operator-test.29955/create_full/mirror_seq1_000000.tar" to registry "localhost.localdomain:5001"
Unarchiving metadata into oc-mirror-workspace/images.3430117958
looking for metadata file at "publish/.metadata.json"
Checking for existing metadata image at localhost.localdomain:5001/oc-mirror:bc0b066c-12cf-4d04-b46c-09abbfef972e
No existing metadata found. Setting up new workspace
Unpacking any provided Helm charts to oc-mirror-workspace/results-1710518746
Process all images in imageset
mirror reference: imagesource.TypedImageReference{Type:"docker", Ref:reference.DockerImageReference{Registry:"localhost.localdomain:5001", Namespace:"", Name:"", Tag:"", ID:""}}
reading assoc: quay.io/powercloud/oc-mirror-dev@sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf
Found layer sha256:160489f92f159492fcb40764713a5353726c484f70187db1eb44494fe4cb942e for image quay.io/powercloud/oc-mirror-dev@sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf
Blob sha256:160489f92f159492fcb40764713a5353726c484f70187db1eb44494fe4cb942e found in powercloud/oc-mirror-dev
Found layer sha256:8e4144d978d2807df278285c20073c4b6af103cdf864a85ed5706de3e743e059 for image quay.io/powercloud/oc-mirror-dev@sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf
Blob sha256:8e4144d978d2807df278285c20073c4b6af103cdf864a85ed5706de3e743e059 found in powercloud/oc-mirror-dev
Found layer sha256:6ecb488e9007271fe63cb27d00934e0fabb54c55cdf3d99b5a86bbcb9eb74470 for image quay.io/powercloud/oc-mirror-dev@sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf
Blob sha256:6ecb488e9007271fe63cb27d00934e0fabb54c55cdf3d99b5a86bbcb9eb74470 found in powercloud/oc-mirror-dev
mirroring generic images: ["file://powercloud/oc-mirror-dev@sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf"]
Repository https://registry-1.docker.io powercloud/oc-mirror-dev
localhost.localdomain:5001/
worker 2 stopping
  powercloud/oc-mirror-dev
worker 1 stopping
    blobs:
worker 5 stopping
work queue exiting
      file://powercloud/oc-mirror-dev sha256:8e4144d978d2807df278285c20073c4b6af103cdf864a85ed5706de3e743e059 350B
      file://powercloud/oc-mirror-dev sha256:160489f92f159492fcb40764713a5353726c484f70187db1eb44494fe4cb942e 1.651KiB
      file://powercloud/oc-mirror-dev sha256:6ecb488e9007271fe63cb27d00934e0fabb54c55cdf3d99b5a86bbcb9eb74470 3.063KiB
    manifests:
worker 0 stopping
      sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf -> 3fff0343
  stats: shared=0 unique=3 size=5.057KiB ratio=1.00

phase 0:
worker 4 stopping
  localhost.localdomain:5001worker 1 stopping
 work queue exiting
worker 2 stopping
worker 0 stopping
worker 3 stopping
worker 3 stopping
powercloud/oc-mirror-dev blobs=3 mounts=0 manifests=1 shared=0

info: Planning completed in 10ms
sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf localhost.localdomain:5001/powercloud/oc-mirror-dev:3fff0343
info: Mirroring completed in 30ms (168.2kB/s)
worker 2 stopping
worker 1 stopping
worker 3 stopping
worker 5 stopping
worker 0 stopping
worker 1 stopping
worker 0 stopping
worker 3 stopping
reading assoc: quay.io/powercloud/oc-mirror-dev@sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99
worker 2 stopping
worker 4 stopping
work queue exiting
work queue exiting
Found layer sha256:7d51d1c7e67c60e7599b9d637c025f9fb3737daadeb9c5a1480d53da31af4b42 for image quay.io/powercloud/oc-mirror-dev@sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99
Blob sha256:7d51d1c7e67c60e7599b9d637c025f9fb3737daadeb9c5a1480d53da31af4b42 found in powercloud/oc-mirror-dev
Found layer sha256:2d028758cd21e419631c4d572a885b1e1a0d34972875188256bfeb3b9676999d for image quay.io/powercloud/oc-mirror-dev@sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99
Blob sha256:2d028758cd21e419631c4d572a885b1e1a0d34972875188256bfeb3b9676999d found in powercloud/oc-mirror-dev
Found layer sha256:5d3e8b2a67479ce1998cf774bed705f741ef3ecfac693dc94d432e8a7384f24d for image quay.io/powercloud/oc-mirror-dev@sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99
Blob sha256:5d3e8b2a67479ce1998cf774bed705f741ef3ecfac693dc94d432e8a7384f24d found in powercloud/oc-mirror-dev
mirroring generic images: ["file://powercloud/oc-mirror-dev@sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99"]
Repository https://registry-1.docker.io powercloud/oc-mirror-dev
localhost.localdomain:5001/
worker 4 stopping
  powercloud/oc-mirror-dev
    blobs:
worker 0 stopping
worker 2 stopping
worker 0 stopping
      file://powercloud/oc-mirror-dev sha256:2d028758cd21e419631c4d572a885b1e1a0d34972875188256bfeb3b9676999d 229B
worker 1 stopping
      file://powercloud/oc-mirror-dev sha256:7d51d1c7e67c60e7599b9d637c025f9fb3737daadeb9c5a1480d53da31af4b42 1.615KiB
      file://powercloud/oc-mirror-dev sha256:5d3e8b2a67479ce1998cf774bed705f741ef3ecfac693dc94d432e8a7384f24d 3.066KiB
    manifests:
work queue exiting
worker 3 stopping
worker 5 stopping
work queue exiting
worker 3 stopping
worker 1 stopping
worker 2 stopping
      sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99 -> 2cc1d002
  stats: shared=0 unique=3 size=4.905KiB ratio=1.00

phase 0:
  localhost.localdomain:5001 powercloud/oc-mirror-dev blobs=3 mounts=0 manifests=1 shared=0

info: Planning completed in 10ms
sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99 localhost.localdomain:5001/powercloud/oc-mirror-dev:2cc1d002
info: Mirroring completed in 30ms (158.7kB/s)
worker 5 stopping
worker 3 stopping
worker 1 stopping
worker 3 stopping
work queue exiting
worker 1 stopping
work queue exiting
worker 2 stopping
reading assoc: quay.io/powercloud/oc-mirror-dev@sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df
worker 4 stopping
worker 0 stopping
worker 0 stopping
worker 2 stopping
Found layer sha256:cef026ec9c692bf3960c12a4ce4e35d4a9398dc8b8a9db8ecf1ac07e9cb3c618 for image quay.io/powercloud/oc-mirror-dev@sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df
Blob sha256:cef026ec9c692bf3960c12a4ce4e35d4a9398dc8b8a9db8ecf1ac07e9cb3c618 found in powercloud/oc-mirror-dev
Found layer sha256:7c251ec1f052524ecd7d6cb049b06fae03248ce89681b2b9c3549f2d60de3858 for image quay.io/powercloud/oc-mirror-dev@sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df
Blob sha256:7c251ec1f052524ecd7d6cb049b06fae03248ce89681b2b9c3549f2d60de3858 found in powercloud/oc-mirror-dev
Found layer sha256:bb0f096c05d39505004f567b53d7c06dbe544bc6d84bb98d20d91ced20323ce7 for image quay.io/powercloud/oc-mirror-dev@sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df
Blob sha256:bb0f096c05d39505004f567b53d7c06dbe544bc6d84bb98d20d91ced20323ce7 found in powercloud/oc-mirror-dev
Found layer sha256:4e7fee3142df14eb295570f9fd4331fccd70fd129e5a5820a5835169d7633b9c for image quay.io/powercloud/oc-mirror-dev@sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df
Blob sha256:4e7fee3142df14eb295570f9fd4331fccd70fd129e5a5820a5835169d7633b9c found in powercloud/oc-mirror-dev
mirroring generic images: ["file://powercloud/oc-mirror-dev@sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df"]
Repository https://registry-1.docker.io powercloud/oc-mirror-dev
localhost.localdomain:5001/
worker 2 stopping
  powercloud/oc-mirror-dev
    blobs:
      file://powercloud/oc-mirror-dev sha256:bb0f096c05d39505004f567b53d7c06dbe544bc6d84bb98d20d91ced20323ce7 218B
work queue exiting
worker 5 stopping
worker 1 stopping
worker 3 stopping
worker 0 stopping
worker 1 stopping
      file://powercloud/oc-mirror-dev sha256:4e7fee3142df14eb295570f9fd4331fccd70fd129e5a5820a5835169d7633b9c 2.44KiB
worker 0 stopping
      file://powercloud/oc-mirror-dev sha256:7c251ec1f052524ecd7d6cb049b06fae03248ce89681b2b9c3549f2d60de3858 798.1KiB
      file://powercloud/oc-mirror-dev sha256:cef026ec9c692bf3960c12a4ce4e35d4a9398dc8b8a9db8ecf1ac07e9cb3c618 808KiB
    manifests:
      sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df -> cc185fd6
worker 3 stopping
work queue exiting
worker 2 stopping
worker 4 stopping
  stats: shared=0 unique=4 size=1.571MiB ratio=1.00

phase 0:
  localhost.localdomain:5001 powercloud/oc-mirror-dev blobs=4 mounts=0 manifests=1 shared=0

info: Planning completed in 10ms
uploading: localhost.localdomain:5001/powercloud/oc-mirror-dev sha256:cef026ec9c692bf3960c12a4ce4e35d4a9398dc8b8a9db8ecf1ac07e9cb3c618 808KiB
uploading: localhost.localdomain:5001/powercloud/oc-mirror-dev sha256:7c251ec1f052524ecd7d6cb049b06fae03248ce89681b2b9c3549f2d60de3858 798.1KiB
sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df localhost.localdomain:5001/powercloud/oc-mirror-dev:cc185fd6
info: Mirroring completed in 40ms (40.45MB/s)
worker 2 stopping
worker 4 stopping
worker 1 stopping
reading assoc: quay.io/powercloud/oc-mirror-dev@sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940
work queue exiting
worker 2 stopping
worker 3 stopping
worker 3 stopping
worker 1 stopping
worker 0 stopping
work queue exiting
worker 0 stopping
worker 5 stopping
Found layer sha256:104bf6f88f1ebe9c7b9a68a0f081022b68a18d91f72fe15118463c75e0785150 for image quay.io/powercloud/oc-mirror-dev@sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940
Blob sha256:104bf6f88f1ebe9c7b9a68a0f081022b68a18d91f72fe15118463c75e0785150 found in powercloud/oc-mirror-dev
Found layer sha256:eb8e7564b1a7ced15816c6f61a521d0ab7dbe481bbb85b2f29e36b4a1ec74e06 for image quay.io/powercloud/oc-mirror-dev@sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940
Blob sha256:eb8e7564b1a7ced15816c6f61a521d0ab7dbe481bbb85b2f29e36b4a1ec74e06 found in powercloud/oc-mirror-dev
Found layer sha256:540ab009d7bbf3435e969bdfd7a8943588919ce11df87644b31b73f83870acd8 for image quay.io/powercloud/oc-mirror-dev@sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940
Blob sha256:540ab009d7bbf3435e969bdfd7a8943588919ce11df87644b31b73f83870acd8 found in powercloud/oc-mirror-dev
mirroring generic images: ["file://powercloud/oc-mirror-dev@sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940"]
Repository https://registry-1.docker.io powercloud/oc-mirror-dev
localhost.localdomain:5001/
worker 0 stopping
  powercloud/oc-mirror-dev
worker 1 stopping
    blobs:
worker 5 stopping
      file://powercloud/oc-mirror-dev sha256:eb8e7564b1a7ced15816c6f61a521d0ab7dbe481bbb85b2f29e36b4a1ec74e06 229B
      file://powercloud/oc-mirror-dev sha256:104bf6f88f1ebe9c7b9a68a0f081022b68a18d91f72fe15118463c75e0785150 1.632KiB
      file://powercloud/oc-mirror-dev sha256:540ab009d7bbf3435e969bdfd7a8943588919ce11df87644b31b73f83870acd8 3.066KiB
    manifests:
worker 2 stopping
      sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940 -> 18ca5d9c
work queue exiting
  stats: shared=0 unique=3 size=4.922KiB ratio=1.00
worker 4 stopping

worker 0 stopping
worker 3 stopping
work queue exiting
worker 3 stopping
worker 2 stopping
worker 1 stopping
phase 0:
  localhost.localdomain:5001 powercloud/oc-mirror-dev blobs=3 mounts=0 manifests=1 shared=0

info: Planning completed in 0s
sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940 localhost.localdomain:5001/powercloud/oc-mirror-dev:18ca5d9c
info: Mirroring completed in 20ms (174.1kB/s)
worker 2 stopping
worker 3 stopping
worker 5 stopping
worker 1 stopping
worker 2 stopping
reading assoc: quay.io/powercloud/oc-mirror-dev@sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5
worker 0 stopping
work queue exiting
worker 0 stopping
worker 4 stopping
worker 1 stopping
work queue exiting
worker 3 stopping
Found layer sha256:b13b7a539f58eed2e83fe31c92175fd1ebb92b05775904f8a3b97d0d39f03202 for image quay.io/powercloud/oc-mirror-dev@sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5
Blob sha256:b13b7a539f58eed2e83fe31c92175fd1ebb92b05775904f8a3b97d0d39f03202 found in powercloud/oc-mirror-dev
Found layer sha256:6499018b4bae31769d48d08a536ca832d5f69b1ebadf7eca51e4a3eb06839f48 for image quay.io/powercloud/oc-mirror-dev@sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5
Blob sha256:6499018b4bae31769d48d08a536ca832d5f69b1ebadf7eca51e4a3eb06839f48 found in powercloud/oc-mirror-dev
Found layer sha256:3f3f2730e3649952d83b2309d2f96e35ff5302de389a9c3f71417d0cd7f41fa7 for image quay.io/powercloud/oc-mirror-dev@sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5
Blob sha256:3f3f2730e3649952d83b2309d2f96e35ff5302de389a9c3f71417d0cd7f41fa7 found in powercloud/oc-mirror-dev
mirroring generic images: ["file://powercloud/oc-mirror-dev@sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5"]
Repository https://registry-1.docker.io powercloud/oc-mirror-dev
localhost.localdomain:5001/
  powercloud/oc-mirror-dev
worker 0 stopping
    blobs:
worker 2 stopping
worker 4 stopping
      file://powercloud/oc-mirror-dev sha256:6499018b4bae31769d48d08a536ca832d5f69b1ebadf7eca51e4a3eb06839f48 236B
worker 3 stopping
      file://powercloud/oc-mirror-dev sha256:b13b7a539f58eed2e83fe31c92175fd1ebb92b05775904f8a3b97d0d39f03202 1.642KiB
      file://powercloud/oc-mirror-dev sha256:3f3f2730e3649952d83b2309d2f96e35ff5302de389a9c3f71417d0cd7f41fa7 3.067KiB
    manifests:
      sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5 -> e9ef9b09
  stats: shared=0 unique=3 size=4.939KiB ratio=1.00
worker 3 stopping

phase 0:
  localhost.localdomain:5001worker 0 stopping
work queue exiting
worker 5 stopping
worker 1 stopping
worker 1 stopping
 worker 2 stopping
powercloud/oc-mirror-devwork queue exiting
 blobs=3 mounts=0 manifests=1 shared=0

info: Planning completed in 10ms
sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5 localhost.localdomain:5001/powercloud/oc-mirror-dev:e9ef9b09
info: Mirroring completed in 20ms (169.9kB/s)
worker 4 stopping
worker 2 stopping
worker 0 stopping
worker 2 stopping
worker 3 stopping
work queue exiting
worker 1 stopping
worker 0 stopping
worker 5 stopping
worker 1 stopping
worker 3 stopping
work queue exiting
reading assoc: quay.io/powercloud/oc-mirror-dev@sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0
Found layer sha256:c71488c512493db1d7379dcbf01717245c2ddab69f300ce7daf1742420e0a150 for image quay.io/powercloud/oc-mirror-dev@sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0
Blob sha256:c71488c512493db1d7379dcbf01717245c2ddab69f300ce7daf1742420e0a150 found in powercloud/oc-mirror-dev
Found layer sha256:079db560919e9e7324f4fe8df18ab69527322286a7b9677e39ad146a41b5d614 for image quay.io/powercloud/oc-mirror-dev@sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0
Blob sha256:079db560919e9e7324f4fe8df18ab69527322286a7b9677e39ad146a41b5d614 found in powercloud/oc-mirror-dev
Found layer sha256:4d025ac471b48c24869967f2305b5fe231efe994e2fa7aa82c2fe9e22195026b for image quay.io/powercloud/oc-mirror-dev@sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0
Blob sha256:4d025ac471b48c24869967f2305b5fe231efe994e2fa7aa82c2fe9e22195026b found in powercloud/oc-mirror-dev
mirroring generic images: ["file://powercloud/oc-mirror-dev@sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0"]
Repository https://registry-1.docker.io powercloud/oc-mirror-dev
localhost.localdomain:5001/
worker 2 stopping
  powercloud/oc-mirror-dev
    blobs:
work queue exiting
      file://powercloud/oc-mirror-dev sha256:079db560919e9e7324f4fe8df18ab69527322286a7b9677e39ad146a41b5d614 229B
      file://powercloud/oc-mirror-dev sha256:c71488c512493db1d7379dcbf01717245c2ddab69f300ce7daf1742420e0a150 1.624KiB
      file://powercloud/oc-mirror-dev sha256:4d025ac471b48c24869967f2305b5fe231efe994e2fa7aa82c2fe9e22195026b 3.07KiB
    manifests:
      sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0 -> 804e3fa1
  stats: shared=0 unique=3 size=4.918KiB ratio=1.00

worker 1 stopping
worker 4 stopping
worker 0 stopping
worker 5 stopping
phase 0:
worker 2 stopping
  localhost.localdomain:5001worker 3 stopping
 work queue exiting
worker 0 stopping
worker 3 stopping
worker 1 stopping
powercloud/oc-mirror-dev blobs=3 mounts=0 manifests=1 shared=0

info: Planning completed in 10ms
sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0 localhost.localdomain:5001/powercloud/oc-mirror-dev:804e3fa1
info: Mirroring completed in 20ms (181.8kB/s)
worker 1 stopping
worker 0 stopping
worker 3 stopping
worker 4 stopping
worker 0 stopping
worker 3 stopping
work queue exiting
worker 2 stopping
worker 2 stopping
worker 5 stopping
worker 1 stopping
work queue exiting
No images specified for pruning
Unpack release signatures
Wrote release signatures to oc-mirror-workspace/results-1710518746
rebuilding catalog images
Rendering catalog image "localhost.localdomain:5001/powercloud/target-name:target-tag" with file-based catalog 
"Using existing OCI layout to oc-mirror-workspace/images.3430117958/catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout"
level=debug msg=resolving host=localhost.localdomain:5001
level=debug msg=do request host=localhost.localdomain:5001 request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://localhost.localdomain:5001/v2/powercloud/target-name/manifests/target-tag
level=debug msg=fetch response received host=localhost.localdomain:5001 response.header.content-length=320 response.header.content-type=application/vnd.docker.distribution.manifest.list.v2+json response.header.date=Fri, 15 Mar 2024 16:05:47 GMT response.header.docker-content-digest=sha256:819b679aa4cece375580259f41b317ee599f29dc6ba74d8a3911ddd6b9f949ae response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:819b679aa4cece375580259f41b317ee599f29dc6ba74d8a3911ddd6b9f949ae" response.header.x-content-type-options=nosniff response.status=200 OK url=http://localhost.localdomain:5001/v2/powercloud/target-name/manifests/target-tag
level=debug msg=resolved desc.digest=sha256:819b679aa4cece375580259f41b317ee599f29dc6ba74d8a3911ddd6b9f949ae host=localhost.localdomain:5001
building cincinnati graph data image
No  graph data found in archive, skipping graph image build
Pushing metadata to registry at localhost.localdomain:5001/oc-mirror:bc0b066c-12cf-4d04-b46c-09abbfef972e
Writing image mapping to oc-mirror-workspace/results-1710518746/mapping.txt
Writing CatalogSource manifests to oc-mirror-workspace/results-1710518746
Writing ICSP manifests to oc-mirror-workspace/results-1710518746
+ popd
/build
+ check_bundles localhost.localdomain:5001/powercloud/target-name:target-tag 'bar.v0.1.0 bar.v0.2.0 bar.v1.0.0 baz.v1.1.0 foo.v0.3.1' localhost.localdomain:5001
+ local catalog_image=localhost.localdomain:5001/powercloud/target-name:target-tag
+ local 'exp_bundles_list=bar.v0.1.0 bar.v0.2.0 bar.v1.0.0 baz.v1.1.0 foo.v0.3.1'
+ local disconn_registry=localhost.localdomain:5001
+ local ns=
+ local extraction_dir=/build/test/e2e/operator-test.29955/extracted
+ mkdir -p /build/test/e2e/operator-test.29955/extracted
+ local index_dir=/build/test/e2e/operator-test.29955/unpacked
+ local index_path=/build/test/e2e/operator-test.29955/unpacked/index.json
+ mkdir -p /build/test/e2e/operator-test.29955/unpacked
+ go run -mod=readonly test/e2e/lib/catalog-extract/main.go localhost.localdomain:5001/powercloud/target-name:target-tag /build/test/e2e/operator-test.29955/extracted/temp.tar
+ tar xvf /build/test/e2e/operator-test.29955/extracted/temp.tar /configs/index.json --strip-components=1
tar: Removing leading `/' from member names
/configs/index.json
+ mv index.json /build/test/e2e/operator-test.29955/unpacked
+ local cache_dir=/build/test/e2e/operator-test.29955/extracted/cache
+ tar xvf /build/test/e2e/operator-test.29955/extracted/temp.tar /cache
tar: Removing leading `/' from member names
/cache
/cache/cache
/cache/cache/bar_alpha_bar.v0.1.0.json
/cache/cache/bar_alpha_bar.v0.2.0.json
/cache/cache/bar_alpha_bar.v1.0.0.json
/cache/cache/bar_stable_bar.v1.0.0.json
/cache/cache/baz_stable_baz.v1.1.0.json
/cache/cache/foo_beta_foo.v0.3.1.json
/cache/cache/packages.json
/cache/digest
+ mv cache /build/test/e2e/operator-test.29955/extracted
+ local opm_path=/build/test/e2e/operator-test.29955/extracted/opm
+ tar xvf /build/test/e2e/operator-test.29955/extracted/temp.tar bin/opm
bin/opm
+ mv bin/opm /build/test/e2e/operator-test.29955/extracted
+ chmod +x /build/test/e2e/operator-test.29955/extracted/opm
+ /build/test/e2e/operator-test.29955/extracted/opm validate /build/test/e2e/operator-test.29955/unpacked
+ /build/test/e2e/operator-test.29955/extracted/opm serve /build/test/e2e/operator-test.29955/unpacked --cache-dir=/build/test/e2e/operator-test.29955/extracted/cache --cache-only --cache-enforce-integrity
[36mINFO[0m[0000] starting pprof endpoint                       [36maddress[0m="localhost:6060"
+ rm -fr /build/test/e2e/operator-test.29955/extracted
+ declare -A exp_bundles_set
+ for bundle in $exp_bundles_list
+ exp_bundles_set[$bundle]=bundle
+ for bundle in $exp_bundles_list
+ exp_bundles_set[$bundle]=bundle
+ for bundle in $exp_bundles_list
+ exp_bundles_set[$bundle]=bundle
+ for bundle in $exp_bundles_list
+ exp_bundles_set[$bundle]=bundle
+ for bundle in $exp_bundles_list
+ exp_bundles_set[$bundle]=bundle
++ crane manifest --insecure --platform all localhost.localdomain:5001/powercloud/target-name:target-tag
++ jq .manifests
++ jq '.[].platform.architecture'
+ local 'manifest="ppc64le"'
++ echo '"ppc64le"'
++ wc -w
+ local num_manifest=1
+ ((  1 != 1  ))
++ cat /build/test/e2e/operator-test.29955/unpacked/index.json
++ jq -sr '.[] | select(.schema == "olm.bundle") | .name'
+ local 'index_bundle_names=bar.v0.1.0
bar.v0.2.0
bar.v1.0.0
baz.v1.1.0
foo.v0.3.1'
++ echo bar.v0.1.0 bar.v0.2.0 bar.v1.0.0 baz.v1.1.0 foo.v0.3.1
++ wc -w
+ local num_bundles=5
+ ((  5 != 5  ))
++ cat /build/test/e2e/operator-test.29955/unpacked/index.json
++ jq -sr '.[] | select(.schema == "olm.bundle") | .image'
+ local 'index_bundle_images=quay.io/powercloud/oc-mirror-dev@sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99
quay.io/powercloud/oc-mirror-dev@sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940
quay.io/powercloud/oc-mirror-dev@sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5
quay.io/powercloud/oc-mirror-dev@sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0
quay.io/powercloud/oc-mirror-dev@sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf'
+ [[ ! -z '' ]]
+ for image in $index_bundle_images
++ echo quay.io/powercloud/oc-mirror-dev@sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99
++ cut --complement -d/ -f1
+ image=localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99
+ crane digest localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99 --insecure
sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99
+ for image in $index_bundle_images
++ echo quay.io/powercloud/oc-mirror-dev@sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940
++ cut --complement -d/ -f1
+ image=localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940
+ crane digest localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940 --insecure
sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940
+ for image in $index_bundle_images
++ echo quay.io/powercloud/oc-mirror-dev@sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5
++ cut --complement -d/ -f1
+ image=localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5
+ crane digest localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5 --insecure
sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5
+ for image in $index_bundle_images
++ echo quay.io/powercloud/oc-mirror-dev@sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0
++ cut --complement -d/ -f1
+ image=localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0
+ crane digest localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0 --insecure
sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0
+ for image in $index_bundle_images
++ echo quay.io/powercloud/oc-mirror-dev@sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf
++ cut --complement -d/ -f1
+ image=localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf
+ crane digest localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf --insecure
sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf
+ for bundle in $index_bundle_names
+ [[ bundle != \b\u\n\d\l\e ]]
+ for bundle in $index_bundle_names
+ [[ bundle != \b\u\n\d\l\e ]]
+ for bundle in $index_bundle_names
+ [[ bundle != \b\u\n\d\l\e ]]
+ for bundle in $index_bundle_names
+ [[ bundle != \b\u\n\d\l\e ]]
+ for bundle in $index_bundle_names
+ [[ bundle != \b\u\n\d\l\e ]]
+ workflow_diff imageset-config-headsonly-newtarget.yaml test-catalog-diff '-c=--source-use-http --source-skip-tls'
+ parse_args imageset-config-headsonly-newtarget.yaml test-catalog-diff '-c=--source-use-http --source-skip-tls'
+ NS=
+ CREATE_FLAGS=
+ PUBLISH_FLAGS=
+ DIFF=false
+ for i in "$@"
+ case "$i" in
+ for i in "$@"
+ case "$i" in
+ for i in "$@"
+ case "$i" in
+ CREATE_FLAGS='--source-use-http --source-skip-tls'
+ shift
+ local config=imageset-config-headsonly-newtarget.yaml
+ local catalog_tag=test-catalog-diff
+ mkdir /build/test/e2e/operator-test.29955/publish_diff
+ setup_operator_testdata /build/test/e2e/operator-test.29955 /build/test/e2e/operator-test.29955/create_diff imageset-config-headsonly-newtarget.yaml true
+ local DATA_DIR=/build/test/e2e/operator-test.29955
+ local OUTPUT_DIR=/build/test/e2e/operator-test.29955/create_diff
+ local CONFIG_PATH=imageset-config-headsonly-newtarget.yaml
+ local DIFF=true
+ local CATALOG_DIGEST=
+ true
+ INDEX_PATH=diff
+ echo -e '\nSetting up test directory in /build/test/e2e/operator-test.29955'

Setting up test directory in /build/test/e2e/operator-test.29955
+ mkdir -p /build/test/e2e/operator-test.29955/create_diff
+ cp /build/test/e2e/configs/imageset-config-headsonly-newtarget.yaml /build/test/e2e/operator-test.29955/create_diff/
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@METADATA_CATALOGNAMESPACE@localhost.localdomain:5000/powercloud/oc-mirror-dev@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@METADATA_OCI_CATALOG@oci:///build/test/e2e/artifacts/rhop-ctlg-oci@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@CATALOG_DIGEST@@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@TARGET_CATALOG_NAME@target-name@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@TARGET_CATALOG_TAG@target-tag@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@DATA_TMP@/build/test/e2e/operator-test.29955@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@MIRROR_OCI_DIR@/build/test/e2e/operator-test.29955/mirror_oci@g '{}' ';'
+ prep_registry test-catalog-diff
+ local CATALOGTAG=test-catalog-diff
++ arch
++ sed 's|aarch64|arm64|g'
+ local CATALOG_ARCH=ppc64le
+ crane copy --insecure quay.io/powercloud/oc-mirror-dev:test-catalog-diff --platform linux/ppc64le localhost.localdomain:5000/powercloud/oc-mirror-dev:test-catalog-latest
2024/03/15 16:05:54 Copying from quay.io/powercloud/oc-mirror-dev:test-catalog-diff to localhost.localdomain:5000/powercloud/oc-mirror-dev:test-catalog-latest
2024/03/15 16:05:55 existing blob: sha256:eebb06941f3e57b2e40a0e9cbd798dacef9b04d89ebaa8896be5f17c976f8666
2024/03/15 16:05:55 existing blob: sha256:960043b8858c3c30f1d79dcc49adb2804fd35c2510729e67685b298b2ca746b7
2024/03/15 16:05:55 existing blob: sha256:fe09e3ee53d23c69e397e65622c72a24d06d07a3906237caa7bbcdc4614a3437
2024/03/15 16:05:55 existing blob: sha256:734b0c695300263f1d4f863ffe61ab3694f718ba02d9c3472eb8f2d684a3c63d
2024/03/15 16:05:55 existing blob: sha256:02cd68c0cbf64abe9738767877756b33f50fff5d88583fdc74b66beffa77694b
2024/03/15 16:05:55 existing blob: sha256:d3c894b5b2b0fa857549aeb6cbc38b038b5b2828736be37b6d9fff0b886f12fd
2024/03/15 16:05:55 existing blob: sha256:b40161cd83fc5d470d6abe50e87aa288481b6b89137012881d74187cfbf9f502
2024/03/15 16:05:55 existing blob: sha256:46ba3f23f1d3fb1440deeb279716e4377e79e61736ec2227270349b9618a0fdd
2024/03/15 16:05:55 existing blob: sha256:4fa131a1b726b2d6468d461e7d8867a2157d5671f712461d8abd126155fdf9ce
2024/03/15 16:05:55 existing blob: sha256:ebfae302eee5fc9004e4ee4e1f2617fd392aa3ba3128bc521a50a3bca4a63d9a
2024/03/15 16:05:55 existing blob: sha256:4fd03c0ba7d1c9c91f7856f1e4a30d0c1a253e7036e8810f204d0d1b25847efd
2024/03/15 16:05:55 existing blob: sha256:49dffd3b924bbe846db2d51d3dc311c43291583afa3d9247cb0f770b1dc7d8a0
2024/03/15 16:05:55 existing blob: sha256:ee48c95913d9e0c7d32774e827156d2b58e67383bc2fdd1bd54d728470e5d2f0
2024/03/15 16:05:58 pushed blob: sha256:b99a75f8161310621ad3994ca54659bd9dc47af142f712e99eb709759370aadc
2024/03/15 16:05:58 pushed blob: sha256:243d933f1764c96ead85f758614b652d1a3493e5c7ee792897473da54df2885c
2024/03/15 16:05:58 localhost.localdomain:5000/powercloud/oc-mirror-dev:test-catalog-latest: digest: sha256:a2305f2200a8bfc16cf2c12d954992d761be3c03199b82c9f8760c274ddebcfb size: 2527
++ crane digest --insecure --platform linux/ppc64le localhost.localdomain:5000/powercloud/oc-mirror-dev:test-catalog-latest
+ CATALOGDIGEST=sha256:a2305f2200a8bfc16cf2c12d954992d761be3c03199b82c9f8760c274ddebcfb
+ run_cmd --config /build/test/e2e/operator-test.29955/create_diff/imageset-config-headsonly-newtarget.yaml file:///build/test/e2e/operator-test.29955/create_diff --source-use-http --source-skip-tls
+ local 'test_flags=--verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy'
+ echo /build/bin/oc-mirror --config /build/test/e2e/operator-test.29955/create_diff/imageset-config-headsonly-newtarget.yaml file:///build/test/e2e/operator-test.29955/create_diff --source-use-http --source-skip-tls --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
/build/bin/oc-mirror --config /build/test/e2e/operator-test.29955/create_diff/imageset-config-headsonly-newtarget.yaml file:///build/test/e2e/operator-test.29955/create_diff --source-use-http --source-skip-tls --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
+ echo

+ /build/bin/oc-mirror --config /build/test/e2e/operator-test.29955/create_diff/imageset-config-headsonly-newtarget.yaml file:///build/test/e2e/operator-test.29955/create_diff --source-use-http --source-skip-tls --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
Creating directory: /build/test/e2e/operator-test.29955/create_diff/oc-mirror-workspace/src/publish
Creating directory: /build/test/e2e/operator-test.29955/create_diff/oc-mirror-workspace/src/v2
Creating directory: /build/test/e2e/operator-test.29955/create_diff/oc-mirror-workspace/src/charts
Creating directory: /build/test/e2e/operator-test.29955/create_diff/oc-mirror-workspace/src/release-signatures
Using local backend at location /build/test/e2e/operator-test.29955
looking for metadata file at "publish/.metadata.json"
level=debug msg=resolving host=localhost.localdomain:5000
level=debug msg=do request host=localhost.localdomain:5000 request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/manifests/test-catalog-latest
level=debug msg=fetch response received host=localhost.localdomain:5000 response.header.content-length=2527 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:05:58 GMT response.header.docker-content-digest=sha256:a2305f2200a8bfc16cf2c12d954992d761be3c03199b82c9f8760c274ddebcfb response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:a2305f2200a8bfc16cf2c12d954992d761be3c03199b82c9f8760c274ddebcfb" response.header.x-content-type-options=nosniff response.status=200 OK url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/manifests/test-catalog-latest
level=debug msg=resolved desc.digest=sha256:a2305f2200a8bfc16cf2c12d954992d761be3c03199b82c9f8760c274ddebcfb host=localhost.localdomain:5000
level=debug msg=fetch digest=sha256:a2305f2200a8bfc16cf2c12d954992d761be3c03199b82c9f8760c274ddebcfb mediatype=application/vnd.docker.distribution.manifest.v2+json size=2527
level=debug msg=do request digest=sha256:a2305f2200a8bfc16cf2c12d954992d761be3c03199b82c9f8760c274ddebcfb mediatype=application/vnd.docker.distribution.manifest.v2+json request.header.accept=application/vnd.docker.distribution.manifest.v2+json, */* request.header.user-agent=opm/alpha request.method=GET size=2527 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/manifests/sha256:a2305f2200a8bfc16cf2c12d954992d761be3c03199b82c9f8760c274ddebcfb
level=debug msg=fetch response received digest=sha256:a2305f2200a8bfc16cf2c12d954992d761be3c03199b82c9f8760c274ddebcfb mediatype=application/vnd.docker.distribution.manifest.v2+json response.header.content-length=2527 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:05:58 GMT response.header.docker-content-digest=sha256:a2305f2200a8bfc16cf2c12d954992d761be3c03199b82c9f8760c274ddebcfb response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:a2305f2200a8bfc16cf2c12d954992d761be3c03199b82c9f8760c274ddebcfb" response.header.x-content-type-options=nosniff response.status=200 OK size=2527 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/manifests/sha256:a2305f2200a8bfc16cf2c12d954992d761be3c03199b82c9f8760c274ddebcfb
level=debug msg=fetch digest=sha256:b99a75f8161310621ad3994ca54659bd9dc47af142f712e99eb709759370aadc mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=9029
level=debug msg=fetch digest=sha256:734b0c695300263f1d4f863ffe61ab3694f718ba02d9c3472eb8f2d684a3c63d mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=83961
level=debug msg=fetch digest=sha256:b40161cd83fc5d470d6abe50e87aa288481b6b89137012881d74187cfbf9f502 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=382
level=debug msg=fetch digest=sha256:d3c894b5b2b0fa857549aeb6cbc38b038b5b2828736be37b6d9fff0b886f12fd mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=112
level=debug msg=fetch digest=sha256:46ba3f23f1d3fb1440deeb279716e4377e79e61736ec2227270349b9618a0fdd mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=345
level=debug msg=fetch digest=sha256:960043b8858c3c30f1d79dcc49adb2804fd35c2510729e67685b298b2ca746b7 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=20322
level=debug msg=fetch digest=sha256:eebb06941f3e57b2e40a0e9cbd798dacef9b04d89ebaa8896be5f17c976f8666 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=284
level=debug msg=fetch digest=sha256:fe09e3ee53d23c69e397e65622c72a24d06d07a3906237caa7bbcdc4614a3437 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=599674
level=debug msg=fetch digest=sha256:02cd68c0cbf64abe9738767877756b33f50fff5d88583fdc74b66beffa77694b mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=188
level=debug msg=fetch digest=sha256:243d933f1764c96ead85f758614b652d1a3493e5c7ee792897473da54df2885c mediatype=application/vnd.docker.container.image.v1+json size=4224
level=debug msg=fetch digest=sha256:4fa131a1b726b2d6468d461e7d8867a2157d5671f712461d8abd126155fdf9ce mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=122108
level=debug msg=fetch digest=sha256:4fd03c0ba7d1c9c91f7856f1e4a30d0c1a253e7036e8810f204d0d1b25847efd mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=3439974
level=debug msg=fetch digest=sha256:ee48c95913d9e0c7d32774e827156d2b58e67383bc2fdd1bd54d728470e5d2f0 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=16702498
level=debug msg=fetch digest=sha256:ebfae302eee5fc9004e4ee4e1f2617fd392aa3ba3128bc521a50a3bca4a63d9a mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=812971
level=debug msg=fetch digest=sha256:49dffd3b924bbe846db2d51d3dc311c43291583afa3d9247cb0f770b1dc7d8a0 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=158
level=debug msg=do request digest=sha256:b99a75f8161310621ad3994ca54659bd9dc47af142f712e99eb709759370aadc mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=9029 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:b99a75f8161310621ad3994ca54659bd9dc47af142f712e99eb709759370aadc
level=debug msg=fetch response received digest=sha256:b99a75f8161310621ad3994ca54659bd9dc47af142f712e99eb709759370aadc mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=9029 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:58 GMT response.header.docker-content-digest=sha256:b99a75f8161310621ad3994ca54659bd9dc47af142f712e99eb709759370aadc response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:b99a75f8161310621ad3994ca54659bd9dc47af142f712e99eb709759370aadc" response.header.x-content-type-options=nosniff response.status=200 OK size=9029 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:b99a75f8161310621ad3994ca54659bd9dc47af142f712e99eb709759370aadc
level=debug msg=do request digest=sha256:734b0c695300263f1d4f863ffe61ab3694f718ba02d9c3472eb8f2d684a3c63d mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=83961 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:734b0c695300263f1d4f863ffe61ab3694f718ba02d9c3472eb8f2d684a3c63d
level=debug msg=fetch response received digest=sha256:734b0c695300263f1d4f863ffe61ab3694f718ba02d9c3472eb8f2d684a3c63d mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=83961 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:58 GMT response.header.docker-content-digest=sha256:734b0c695300263f1d4f863ffe61ab3694f718ba02d9c3472eb8f2d684a3c63d response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:734b0c695300263f1d4f863ffe61ab3694f718ba02d9c3472eb8f2d684a3c63d" response.header.x-content-type-options=nosniff response.status=200 OK size=83961 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:734b0c695300263f1d4f863ffe61ab3694f718ba02d9c3472eb8f2d684a3c63d
level=debug msg=do request digest=sha256:b40161cd83fc5d470d6abe50e87aa288481b6b89137012881d74187cfbf9f502 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=382 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:b40161cd83fc5d470d6abe50e87aa288481b6b89137012881d74187cfbf9f502
level=debug msg=fetch response received digest=sha256:b40161cd83fc5d470d6abe50e87aa288481b6b89137012881d74187cfbf9f502 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=382 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:58 GMT response.header.docker-content-digest=sha256:b40161cd83fc5d470d6abe50e87aa288481b6b89137012881d74187cfbf9f502 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:b40161cd83fc5d470d6abe50e87aa288481b6b89137012881d74187cfbf9f502" response.header.x-content-type-options=nosniff response.status=200 OK size=382 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:b40161cd83fc5d470d6abe50e87aa288481b6b89137012881d74187cfbf9f502
level=debug msg=do request digest=sha256:960043b8858c3c30f1d79dcc49adb2804fd35c2510729e67685b298b2ca746b7 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=20322 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:960043b8858c3c30f1d79dcc49adb2804fd35c2510729e67685b298b2ca746b7
level=debug msg=fetch response received digest=sha256:960043b8858c3c30f1d79dcc49adb2804fd35c2510729e67685b298b2ca746b7 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=20322 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:58 GMT response.header.docker-content-digest=sha256:960043b8858c3c30f1d79dcc49adb2804fd35c2510729e67685b298b2ca746b7 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:960043b8858c3c30f1d79dcc49adb2804fd35c2510729e67685b298b2ca746b7" response.header.x-content-type-options=nosniff response.status=200 OK size=20322 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:960043b8858c3c30f1d79dcc49adb2804fd35c2510729e67685b298b2ca746b7
level=debug msg=do request digest=sha256:d3c894b5b2b0fa857549aeb6cbc38b038b5b2828736be37b6d9fff0b886f12fd mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=112 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:d3c894b5b2b0fa857549aeb6cbc38b038b5b2828736be37b6d9fff0b886f12fd
level=debug msg=fetch response received digest=sha256:d3c894b5b2b0fa857549aeb6cbc38b038b5b2828736be37b6d9fff0b886f12fd mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=112 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:58 GMT response.header.docker-content-digest=sha256:d3c894b5b2b0fa857549aeb6cbc38b038b5b2828736be37b6d9fff0b886f12fd response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:d3c894b5b2b0fa857549aeb6cbc38b038b5b2828736be37b6d9fff0b886f12fd" response.header.x-content-type-options=nosniff response.status=200 OK size=112 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:d3c894b5b2b0fa857549aeb6cbc38b038b5b2828736be37b6d9fff0b886f12fd
level=debug msg=do request digest=sha256:eebb06941f3e57b2e40a0e9cbd798dacef9b04d89ebaa8896be5f17c976f8666 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=284 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:eebb06941f3e57b2e40a0e9cbd798dacef9b04d89ebaa8896be5f17c976f8666
level=debug msg=fetch response received digest=sha256:eebb06941f3e57b2e40a0e9cbd798dacef9b04d89ebaa8896be5f17c976f8666 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=284 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:58 GMT response.header.docker-content-digest=sha256:eebb06941f3e57b2e40a0e9cbd798dacef9b04d89ebaa8896be5f17c976f8666 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:eebb06941f3e57b2e40a0e9cbd798dacef9b04d89ebaa8896be5f17c976f8666" response.header.x-content-type-options=nosniff response.status=200 OK size=284 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:eebb06941f3e57b2e40a0e9cbd798dacef9b04d89ebaa8896be5f17c976f8666
level=debug msg=do request digest=sha256:02cd68c0cbf64abe9738767877756b33f50fff5d88583fdc74b66beffa77694b mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=188 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:02cd68c0cbf64abe9738767877756b33f50fff5d88583fdc74b66beffa77694b
level=debug msg=fetch response received digest=sha256:02cd68c0cbf64abe9738767877756b33f50fff5d88583fdc74b66beffa77694b mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=188 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:58 GMT response.header.docker-content-digest=sha256:02cd68c0cbf64abe9738767877756b33f50fff5d88583fdc74b66beffa77694b response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:02cd68c0cbf64abe9738767877756b33f50fff5d88583fdc74b66beffa77694b" response.header.x-content-type-options=nosniff response.status=200 OK size=188 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:02cd68c0cbf64abe9738767877756b33f50fff5d88583fdc74b66beffa77694b
level=debug msg=do request digest=sha256:243d933f1764c96ead85f758614b652d1a3493e5c7ee792897473da54df2885c mediatype=application/vnd.docker.container.image.v1+json request.header.accept=application/vnd.docker.container.image.v1+json, */* request.header.user-agent=opm/alpha request.method=GET size=4224 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:243d933f1764c96ead85f758614b652d1a3493e5c7ee792897473da54df2885c
level=debug msg=fetch response received digest=sha256:243d933f1764c96ead85f758614b652d1a3493e5c7ee792897473da54df2885c mediatype=application/vnd.docker.container.image.v1+json response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=4224 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:58 GMT response.header.docker-content-digest=sha256:243d933f1764c96ead85f758614b652d1a3493e5c7ee792897473da54df2885c response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:243d933f1764c96ead85f758614b652d1a3493e5c7ee792897473da54df2885c" response.header.x-content-type-options=nosniff response.status=200 OK size=4224 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:243d933f1764c96ead85f758614b652d1a3493e5c7ee792897473da54df2885c
level=debug msg=do request digest=sha256:4fa131a1b726b2d6468d461e7d8867a2157d5671f712461d8abd126155fdf9ce mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=122108 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:4fa131a1b726b2d6468d461e7d8867a2157d5671f712461d8abd126155fdf9ce
level=debug msg=fetch response received digest=sha256:4fa131a1b726b2d6468d461e7d8867a2157d5671f712461d8abd126155fdf9ce mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=122108 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:58 GMT response.header.docker-content-digest=sha256:4fa131a1b726b2d6468d461e7d8867a2157d5671f712461d8abd126155fdf9ce response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:4fa131a1b726b2d6468d461e7d8867a2157d5671f712461d8abd126155fdf9ce" response.header.x-content-type-options=nosniff response.status=200 OK size=122108 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:4fa131a1b726b2d6468d461e7d8867a2157d5671f712461d8abd126155fdf9ce
level=debug msg=do request digest=sha256:4fd03c0ba7d1c9c91f7856f1e4a30d0c1a253e7036e8810f204d0d1b25847efd mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=3439974 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:4fd03c0ba7d1c9c91f7856f1e4a30d0c1a253e7036e8810f204d0d1b25847efd
level=debug msg=fetch response received digest=sha256:4fd03c0ba7d1c9c91f7856f1e4a30d0c1a253e7036e8810f204d0d1b25847efd mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=3439974 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:58 GMT response.header.docker-content-digest=sha256:4fd03c0ba7d1c9c91f7856f1e4a30d0c1a253e7036e8810f204d0d1b25847efd response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:4fd03c0ba7d1c9c91f7856f1e4a30d0c1a253e7036e8810f204d0d1b25847efd" response.header.x-content-type-options=nosniff response.status=200 OK size=3439974 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:4fd03c0ba7d1c9c91f7856f1e4a30d0c1a253e7036e8810f204d0d1b25847efd
level=debug msg=do request digest=sha256:46ba3f23f1d3fb1440deeb279716e4377e79e61736ec2227270349b9618a0fdd mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=345 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:46ba3f23f1d3fb1440deeb279716e4377e79e61736ec2227270349b9618a0fdd
level=debug msg=fetch response received digest=sha256:46ba3f23f1d3fb1440deeb279716e4377e79e61736ec2227270349b9618a0fdd mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=345 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:58 GMT response.header.docker-content-digest=sha256:46ba3f23f1d3fb1440deeb279716e4377e79e61736ec2227270349b9618a0fdd response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:46ba3f23f1d3fb1440deeb279716e4377e79e61736ec2227270349b9618a0fdd" response.header.x-content-type-options=nosniff response.status=200 OK size=345 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:46ba3f23f1d3fb1440deeb279716e4377e79e61736ec2227270349b9618a0fdd
level=debug msg=do request digest=sha256:ee48c95913d9e0c7d32774e827156d2b58e67383bc2fdd1bd54d728470e5d2f0 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=16702498 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:ee48c95913d9e0c7d32774e827156d2b58e67383bc2fdd1bd54d728470e5d2f0
level=debug msg=fetch response received digest=sha256:ee48c95913d9e0c7d32774e827156d2b58e67383bc2fdd1bd54d728470e5d2f0 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=16702498 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:58 GMT response.header.docker-content-digest=sha256:ee48c95913d9e0c7d32774e827156d2b58e67383bc2fdd1bd54d728470e5d2f0 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:ee48c95913d9e0c7d32774e827156d2b58e67383bc2fdd1bd54d728470e5d2f0" response.header.x-content-type-options=nosniff response.status=200 OK size=16702498 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:ee48c95913d9e0c7d32774e827156d2b58e67383bc2fdd1bd54d728470e5d2f0
level=debug msg=do request digest=sha256:ebfae302eee5fc9004e4ee4e1f2617fd392aa3ba3128bc521a50a3bca4a63d9a mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=812971 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:ebfae302eee5fc9004e4ee4e1f2617fd392aa3ba3128bc521a50a3bca4a63d9a
level=debug msg=do request digest=sha256:fe09e3ee53d23c69e397e65622c72a24d06d07a3906237caa7bbcdc4614a3437 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=599674 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:fe09e3ee53d23c69e397e65622c72a24d06d07a3906237caa7bbcdc4614a3437
level=debug msg=fetch response received digest=sha256:ebfae302eee5fc9004e4ee4e1f2617fd392aa3ba3128bc521a50a3bca4a63d9a mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=812971 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:58 GMT response.header.docker-content-digest=sha256:ebfae302eee5fc9004e4ee4e1f2617fd392aa3ba3128bc521a50a3bca4a63d9a response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:ebfae302eee5fc9004e4ee4e1f2617fd392aa3ba3128bc521a50a3bca4a63d9a" response.header.x-content-type-options=nosniff response.status=200 OK size=812971 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:ebfae302eee5fc9004e4ee4e1f2617fd392aa3ba3128bc521a50a3bca4a63d9a
level=debug msg=do request digest=sha256:49dffd3b924bbe846db2d51d3dc311c43291583afa3d9247cb0f770b1dc7d8a0 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip request.header.accept=application/vnd.docker.image.rootfs.diff.tar.gzip, */* request.header.user-agent=opm/alpha request.method=GET size=158 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:49dffd3b924bbe846db2d51d3dc311c43291583afa3d9247cb0f770b1dc7d8a0
level=debug msg=fetch response received digest=sha256:fe09e3ee53d23c69e397e65622c72a24d06d07a3906237caa7bbcdc4614a3437 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=599674 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:58 GMT response.header.docker-content-digest=sha256:fe09e3ee53d23c69e397e65622c72a24d06d07a3906237caa7bbcdc4614a3437 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:fe09e3ee53d23c69e397e65622c72a24d06d07a3906237caa7bbcdc4614a3437" response.header.x-content-type-options=nosniff response.status=200 OK size=599674 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:fe09e3ee53d23c69e397e65622c72a24d06d07a3906237caa7bbcdc4614a3437
level=debug msg=fetch response received digest=sha256:49dffd3b924bbe846db2d51d3dc311c43291583afa3d9247cb0f770b1dc7d8a0 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip response.header.accept-ranges=bytes response.header.cache-control=max-age=31536000 response.header.content-length=158 response.header.content-type=application/octet-stream response.header.date=Fri, 15 Mar 2024 16:05:58 GMT response.header.docker-content-digest=sha256:49dffd3b924bbe846db2d51d3dc311c43291583afa3d9247cb0f770b1dc7d8a0 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:49dffd3b924bbe846db2d51d3dc311c43291583afa3d9247cb0f770b1dc7d8a0" response.header.x-content-type-options=nosniff response.status=200 OK size=158 url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/blobs/sha256:49dffd3b924bbe846db2d51d3dc311c43291583afa3d9247cb0f770b1dc7d8a0
level=debug msg=using pigz for decompression
level=debug msg=file "." ignored: resolved to root
level=debug msg=resolving host=localhost.localdomain:5000
level=debug msg=do request host=localhost.localdomain:5000 request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/manifests/test-catalog-latest
level=debug msg=fetch response received host=localhost.localdomain:5000 response.header.content-length=2527 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:05:59 GMT response.header.docker-content-digest=sha256:a2305f2200a8bfc16cf2c12d954992d761be3c03199b82c9f8760c274ddebcfb response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:a2305f2200a8bfc16cf2c12d954992d761be3c03199b82c9f8760c274ddebcfb" response.header.x-content-type-options=nosniff response.status=200 OK url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/manifests/test-catalog-latest
level=debug msg=resolved desc.digest=sha256:a2305f2200a8bfc16cf2c12d954992d761be3c03199b82c9f8760c274ddebcfb host=localhost.localdomain:5000
level=debug msg=fetch digest=sha256:a2305f2200a8bfc16cf2c12d954992d761be3c03199b82c9f8760c274ddebcfb mediatype=application/vnd.docker.distribution.manifest.v2+json size=2527
level=debug msg=fetch digest=sha256:fe09e3ee53d23c69e397e65622c72a24d06d07a3906237caa7bbcdc4614a3437 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=599674
level=debug msg=fetch digest=sha256:960043b8858c3c30f1d79dcc49adb2804fd35c2510729e67685b298b2ca746b7 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=20322
level=debug msg=fetch digest=sha256:243d933f1764c96ead85f758614b652d1a3493e5c7ee792897473da54df2885c mediatype=application/vnd.docker.container.image.v1+json size=4224
level=debug msg=fetch digest=sha256:02cd68c0cbf64abe9738767877756b33f50fff5d88583fdc74b66beffa77694b mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=188
level=debug msg=fetch digest=sha256:eebb06941f3e57b2e40a0e9cbd798dacef9b04d89ebaa8896be5f17c976f8666 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=284
level=debug msg=fetch digest=sha256:b40161cd83fc5d470d6abe50e87aa288481b6b89137012881d74187cfbf9f502 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=382
level=debug msg=fetch digest=sha256:d3c894b5b2b0fa857549aeb6cbc38b038b5b2828736be37b6d9fff0b886f12fd mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=112
level=debug msg=fetch digest=sha256:49dffd3b924bbe846db2d51d3dc311c43291583afa3d9247cb0f770b1dc7d8a0 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=158
level=debug msg=fetch digest=sha256:b99a75f8161310621ad3994ca54659bd9dc47af142f712e99eb709759370aadc mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=9029
level=debug msg=fetch digest=sha256:4fa131a1b726b2d6468d461e7d8867a2157d5671f712461d8abd126155fdf9ce mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=122108
level=debug msg=fetch digest=sha256:734b0c695300263f1d4f863ffe61ab3694f718ba02d9c3472eb8f2d684a3c63d mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=83961
level=debug msg=fetch digest=sha256:ee48c95913d9e0c7d32774e827156d2b58e67383bc2fdd1bd54d728470e5d2f0 mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=16702498
level=debug msg=fetch digest=sha256:46ba3f23f1d3fb1440deeb279716e4377e79e61736ec2227270349b9618a0fdd mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=345
level=debug msg=fetch digest=sha256:4fd03c0ba7d1c9c91f7856f1e4a30d0c1a253e7036e8810f204d0d1b25847efd mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=3439974
level=debug msg=fetch digest=sha256:ebfae302eee5fc9004e4ee4e1f2617fd392aa3ba3128bc521a50a3bca4a63d9a mediatype=application/vnd.docker.image.rootfs.diff.tar.gzip size=812971
level=debug msg=file "." ignored: resolved to root
Checking for package: {bar [{alpha [0.1.0] [] } {stable [1.0.0] [] }] [] [] }
Checking for package: {baz [{stable [1.1.0] [] }] [] [] }
Checking for package: {foo [{beta [0.3.1] [] }] [] [] }
bundle bar.v0.1.0: pinning bundle image quay.io/powercloud/oc-mirror-dev:bar-bundle-v0.1.0 to digest
bundle bar.v0.1.0: pinning bundle image quay.io/powercloud/oc-mirror-dev:bar-bundle-v0.1.0 to digest
level=debug msg=resolving host=quay.io
level=debug msg=do request host=quay.io request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/bar-bundle-v0.1.0
level=debug msg=fetch response received host=quay.io response.header.connection=keep-alive response.header.content-length=585 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:06:01 GMT response.header.docker-content-digest=sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99 response.header.server=nginx/1.22.1 response.header.strict-transport-security=max-age=63072000; preload response.header.vary=Cookie response.header.x-frame-options=DENY response.status=200 OK url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/bar-bundle-v0.1.0
level=debug msg=resolved desc.digest=sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99 host=quay.io
bundle bar.v0.2.0: pinning bundle image quay.io/powercloud/oc-mirror-dev:bar-bundle-v0.2.0 to digest
bundle bar.v0.2.0: pinning bundle image quay.io/powercloud/oc-mirror-dev:bar-bundle-v0.2.0 to digest
level=debug msg=resolving host=quay.io
level=debug msg=do request host=quay.io request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/bar-bundle-v0.2.0
level=debug msg=fetch response received host=quay.io response.header.connection=keep-alive response.header.content-length=585 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:06:01 GMT response.header.docker-content-digest=sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940 response.header.server=nginx/1.22.1 response.header.strict-transport-security=max-age=63072000; preload response.header.vary=Cookie response.header.x-frame-options=DENY response.status=200 OK url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/bar-bundle-v0.2.0
level=debug msg=resolved desc.digest=sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940 host=quay.io
bundle bar.v1.0.0: pinning bundle image quay.io/powercloud/oc-mirror-dev:bar-bundle-v1.0.0 to digest
bundle bar.v1.0.0: pinning bundle image quay.io/powercloud/oc-mirror-dev:bar-bundle-v1.0.0 to digest
level=debug msg=resolving host=quay.io
level=debug msg=do request host=quay.io request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/bar-bundle-v1.0.0
level=debug msg=fetch response received host=quay.io response.header.connection=keep-alive response.header.content-length=585 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:06:01 GMT response.header.docker-content-digest=sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5 response.header.server=nginx/1.22.1 response.header.strict-transport-security=max-age=63072000; preload response.header.vary=Cookie response.header.x-frame-options=DENY response.status=200 OK url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/bar-bundle-v1.0.0
level=debug msg=resolved desc.digest=sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5 host=quay.io
bundle baz.v1.1.0: pinning bundle image quay.io/powercloud/oc-mirror-dev:baz-bundle-v1.1.0 to digest
bundle baz.v1.1.0: pinning bundle image quay.io/powercloud/oc-mirror-dev:baz-bundle-v1.1.0 to digest
level=debug msg=resolving host=quay.io
level=debug msg=do request host=quay.io request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/baz-bundle-v1.1.0
level=debug msg=fetch response received host=quay.io response.header.connection=keep-alive response.header.content-length=585 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:06:01 GMT response.header.docker-content-digest=sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0 response.header.server=nginx/1.22.1 response.header.strict-transport-security=max-age=63072000; preload response.header.vary=Cookie response.header.x-frame-options=DENY response.status=200 OK url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/baz-bundle-v1.1.0
level=debug msg=resolved desc.digest=sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0 host=quay.io
bundle foo.v0.3.0: pinning bundle image quay.io/powercloud/oc-mirror-dev:foo-bundle-v0.3.0 to digest
bundle foo.v0.3.0: pinning bundle image quay.io/powercloud/oc-mirror-dev:foo-bundle-v0.3.0 to digest
level=debug msg=resolving host=quay.io
level=debug msg=do request host=quay.io request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/foo-bundle-v0.3.0
level=debug msg=fetch response received host=quay.io response.header.connection=keep-alive response.header.content-length=585 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:06:01 GMT response.header.docker-content-digest=sha256:b5a111b30adfe0a0753ade546299093d0661175d60819393d601d09c186d9307 response.header.server=nginx/1.22.1 response.header.strict-transport-security=max-age=63072000; preload response.header.vary=Cookie response.header.x-frame-options=DENY response.status=200 OK url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/foo-bundle-v0.3.0
level=debug msg=resolved desc.digest=sha256:b5a111b30adfe0a0753ade546299093d0661175d60819393d601d09c186d9307 host=quay.io
bundle foo.v0.3.1: pinning bundle image quay.io/powercloud/oc-mirror-dev:foo-bundle-v0.3.1 to digest
bundle foo.v0.3.1: pinning bundle image quay.io/powercloud/oc-mirror-dev:foo-bundle-v0.3.1 to digest
level=debug msg=resolving host=quay.io
level=debug msg=do request host=quay.io request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/foo-bundle-v0.3.1
level=debug msg=fetch response received host=quay.io response.header.connection=keep-alive response.header.content-length=585 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:06:02 GMT response.header.docker-content-digest=sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf response.header.server=nginx/1.22.1 response.header.strict-transport-security=max-age=63072000; preload response.header.vary=Cookie response.header.x-frame-options=DENY response.status=200 OK url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/foo-bundle-v0.3.1
level=debug msg=resolved desc.digest=sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf host=quay.io
bundle foo.v0.3.2: pinning bundle image quay.io/powercloud/oc-mirror-dev:foo-bundle-v0.3.2 to digest
bundle foo.v0.3.2: pinning bundle image quay.io/powercloud/oc-mirror-dev:foo-bundle-v0.3.2 to digest
level=debug msg=resolving host=quay.io
level=debug msg=do request host=quay.io request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/foo-bundle-v0.3.2
level=debug msg=fetch response received host=quay.io response.header.connection=keep-alive response.header.content-length=585 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:06:02 GMT response.header.docker-content-digest=sha256:eb374b4afc6032e7bf5c425803137af1e8085bf767b9f2cf0b189e691bcd1b53 response.header.server=nginx/1.22.1 response.header.strict-transport-security=max-age=63072000; preload response.header.vary=Cookie response.header.x-frame-options=DENY response.status=200 OK url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/foo-bundle-v0.3.2
level=debug msg=resolved desc.digest=sha256:eb374b4afc6032e7bf5c425803137af1e8085bf767b9f2cf0b189e691bcd1b53 host=quay.io
wrote mirroring manifests to /build/test/e2e/operator-test.29955/create_diff/oc-mirror-workspace/operators.1710518758/manifests-oc-mirror-dev

To upload local images to a registry, run:

	oc adm catalog mirror file://powercloud/oc-mirror-dev:test-catalog-latest REGISTRY/REPOSITORY
Skipping previously mirrored image quay.io/powercloud/oc-mirror-dev@sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99
Skipping previously mirrored image quay.io/powercloud/oc-mirror-dev@sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5
Skipping previously mirrored image quay.io/powercloud/oc-mirror-dev@sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf
Skipping previously mirrored image quay.io/powercloud/oc-mirror-dev@sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df
Skipping previously mirrored image quay.io/powercloud/oc-mirror-dev@sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940
Skipping previously mirrored image quay.io/powercloud/oc-mirror-dev@sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0
Repository https://registry-1.docker.io powercloud/oc-mirror-dev
Repository https://registry-1.docker.io powercloud/oc-mirror-dev
<dir>
worker 4 stopping
  powercloud/oc-mirror-dev
worker 3 stopping
work queue exiting
    blobs:
worker 1 stopping
      quay.io/powercloud/oc-mirror-dev sha256:d60a8421dbb32df4af7fe860abd34d070602376909ac4250d1f79d479500a172 349B
      quay.io/powercloud/oc-mirror-dev sha256:dde314b8d072c93790ef070ca31d1b574d49d65334f6aff11b8f402632dbe649 351B
      quay.io/powercloud/oc-mirror-dev sha256:d202a319c51beb5cb1d382c741af85f322fabc814574bdd6901678baf857806f 1.643KiB
      quay.io/powercloud/oc-mirror-dev sha256:d8b85dc6c9b240cf7bddadd350fc348e00e7d3ce042a373a6fe0f42af7dfee15 1.657KiB
      quay.io/powercloud/oc-mirror-dev sha256:2053b50856f4ad890a2df92564ba476942ebd9223bf5d74856afe09c4b9ab428 3.064KiB
      quay.io/powercloud/oc-mirror-dev sha256:737386cf05a799a9756b8dd38c3828d78bac3232c16b6fbb3d7971e62a14eccf 3.064KiB
worker 0 stopping
    manifests:
worker 1 stopping
      sha256:b5a111b30adfe0a0753ade546299093d0661175d60819393d601d09c186d9307 -> f14bd0db
      sha256:eb374b4afc6032e7bf5c425803137af1e8085bf767b9f2cf0b189e691bcd1b53 -> 5c9d6e86
  stats: shared=0 unique=6 size=10.11KiB ratio=1.00

work queue exiting
phase 0:
worker 2 stopping
   powercloud/oc-mirror-devworker 0 stopping
worker 3 stopping
worker 2 stopping
 worker 5 stopping
blobs=6 mounts=0 manifests=2 shared=0

info: Planning completed in 640ms
sha256:eb374b4afc6032e7bf5c425803137af1e8085bf767b9f2cf0b189e691bcd1b53 file://powercloud/oc-mirror-dev:5c9d6e86
sha256:b5a111b30adfe0a0753ade546299093d0661175d60819393d601d09c186d9307 file://powercloud/oc-mirror-dev:f14bd0db
info: Mirroring completed in 910ms (11.36kB/s)
worker 2 stopping
worker 4 stopping
worker 1 stopping
worker 0 stopping
worker 3 stopping
worker 3 stopping
worker 5 stopping
worker 0 stopping
worker 2 stopping
work queue exiting
worker 1 stopping
work queue exiting
Adding blob sha256:2053b50856f4ad890a2df92564ba476942ebd9223bf5d74856afe09c4b9ab428
Adding blob sha256:737386cf05a799a9756b8dd38c3828d78bac3232c16b6fbb3d7971e62a14eccf
Adding blob sha256:b5a111b30adfe0a0753ade546299093d0661175d60819393d601d09c186d9307
Adding blob sha256:d202a319c51beb5cb1d382c741af85f322fabc814574bdd6901678baf857806f
Adding blob sha256:d60a8421dbb32df4af7fe860abd34d070602376909ac4250d1f79d479500a172
Adding blob sha256:d8b85dc6c9b240cf7bddadd350fc348e00e7d3ce042a373a6fe0f42af7dfee15
Adding blob sha256:dde314b8d072c93790ef070ca31d1b574d49d65334f6aff11b8f402632dbe649
Adding blob sha256:eb374b4afc6032e7bf5c425803137af1e8085bf767b9f2cf0b189e691bcd1b53
looking for metadata file at "publish/.metadata.json"
Resolving operator metadata
level=debug msg=resolving host=localhost.localdomain:5000
level=debug msg=do request host=localhost.localdomain:5000 request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/manifests/test-catalog-latest
level=debug msg=fetch response received host=localhost.localdomain:5000 response.header.content-length=2527 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:06:04 GMT response.header.docker-content-digest=sha256:a2305f2200a8bfc16cf2c12d954992d761be3c03199b82c9f8760c274ddebcfb response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:a2305f2200a8bfc16cf2c12d954992d761be3c03199b82c9f8760c274ddebcfb" response.header.x-content-type-options=nosniff response.status=200 OK url=http://localhost.localdomain:5000/v2/powercloud/oc-mirror-dev/manifests/test-catalog-latest
level=debug msg=resolved desc.digest=sha256:a2305f2200a8bfc16cf2c12d954992d761be3c03199b82c9f8760c274ddebcfb host=localhost.localdomain:5000
Resolving OCP release metadata
Creating archive /build/test/e2e/operator-test.29955/create_diff/mirror_seq2_000000.tar
File . will not be archived, skipping...
File catalogs added to archive
File catalogs/localhost.localdomain:5000 added to archive
File catalogs/localhost.localdomain:5000/powercloud added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/bin added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/bin/opm added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/cacheLocation.txt added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/include-config.gob added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/index added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/index/index.json added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256 added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/02cd68c0cbf64abe9738767877756b33f50fff5d88583fdc74b66beffa77694b added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/243d933f1764c96ead85f758614b652d1a3493e5c7ee792897473da54df2885c added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/46ba3f23f1d3fb1440deeb279716e4377e79e61736ec2227270349b9618a0fdd added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/49dffd3b924bbe846db2d51d3dc311c43291583afa3d9247cb0f770b1dc7d8a0 added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/4fa131a1b726b2d6468d461e7d8867a2157d5671f712461d8abd126155fdf9ce added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/4fd03c0ba7d1c9c91f7856f1e4a30d0c1a253e7036e8810f204d0d1b25847efd added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/734b0c695300263f1d4f863ffe61ab3694f718ba02d9c3472eb8f2d684a3c63d added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/960043b8858c3c30f1d79dcc49adb2804fd35c2510729e67685b298b2ca746b7 added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/a2305f2200a8bfc16cf2c12d954992d761be3c03199b82c9f8760c274ddebcfb added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/b40161cd83fc5d470d6abe50e87aa288481b6b89137012881d74187cfbf9f502 added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/b99a75f8161310621ad3994ca54659bd9dc47af142f712e99eb709759370aadc added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/d3c894b5b2b0fa857549aeb6cbc38b038b5b2828736be37b6d9fff0b886f12fd added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/ebfae302eee5fc9004e4ee4e1f2617fd392aa3ba3128bc521a50a3bca4a63d9a added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/ee48c95913d9e0c7d32774e827156d2b58e67383bc2fdd1bd54d728470e5d2f0 added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/eebb06941f3e57b2e40a0e9cbd798dacef9b04d89ebaa8896be5f17c976f8666 added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/blobs/sha256/fe09e3ee53d23c69e397e65622c72a24d06d07a3906237caa7bbcdc4614a3437 added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/index.json added to archive
File catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout/oci-layout added to archive
File charts added to archive
File publish will not be archived, skipping...
File release-signatures added to archive
File tmpbackend.1710518764 will not be archived, skipping...
File tmpbackend.1710518764/publish will not be archived, skipping...
File tmpbackend.1710518764/publish/.metadata.json will not be archived, skipping...
File v2 will not be archived, skipping...
File v2/powercloud will not be archived, skipping...
File v2/powercloud/oc-mirror-dev will not be archived, skipping...
File v2/powercloud/oc-mirror-dev/blobs will not be archived, skipping...
File v2/powercloud/oc-mirror-dev/blobs/sha256:2053b50856f4ad890a2df92564ba476942ebd9223bf5d74856afe09c4b9ab428 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:737386cf05a799a9756b8dd38c3828d78bac3232c16b6fbb3d7971e62a14eccf added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:b5a111b30adfe0a0753ade546299093d0661175d60819393d601d09c186d9307 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:d202a319c51beb5cb1d382c741af85f322fabc814574bdd6901678baf857806f added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:d60a8421dbb32df4af7fe860abd34d070602376909ac4250d1f79d479500a172 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:d8b85dc6c9b240cf7bddadd350fc348e00e7d3ce042a373a6fe0f42af7dfee15 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:dde314b8d072c93790ef070ca31d1b574d49d65334f6aff11b8f402632dbe649 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:eb374b4afc6032e7bf5c425803137af1e8085bf767b9f2cf0b189e691bcd1b53 added to archive
File v2/powercloud/oc-mirror-dev/manifests will not be archived, skipping...
File v2/powercloud/oc-mirror-dev/manifests/5c9d6e86 added to archive
File v2/powercloud/oc-mirror-dev/manifests/f14bd0db added to archive
File v2/powercloud/oc-mirror-dev/manifests/sha256:b5a111b30adfe0a0753ade546299093d0661175d60819393d601d09c186d9307 added to archive
File v2/powercloud/oc-mirror-dev/manifests/sha256:eb374b4afc6032e7bf5c425803137af1e8085bf767b9f2cf0b189e691bcd1b53 added to archive
Using local backend at location /build/test/e2e/operator-test.29955
looking for metadata file at "publish/.metadata.json"
+ pushd /build/test/e2e/operator-test.29955/publish_diff
/build/test/e2e/operator-test.29955/publish_diff /build
+ run_cmd --from /build/test/e2e/operator-test.29955/create_diff/mirror_seq2_000000.tar docker://localhost.localdomain:5001
+ local 'test_flags=--verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy'
+ echo /build/bin/oc-mirror --from /build/test/e2e/operator-test.29955/create_diff/mirror_seq2_000000.tar docker://localhost.localdomain:5001 --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
/build/bin/oc-mirror --from /build/test/e2e/operator-test.29955/create_diff/mirror_seq2_000000.tar docker://localhost.localdomain:5001 --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
+ echo

+ /build/bin/oc-mirror --from /build/test/e2e/operator-test.29955/create_diff/mirror_seq2_000000.tar docker://localhost.localdomain:5001 --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
Checking push permissions for localhost.localdomain:5001
Using image localhost.localdomain:5001/oc-mirror to check permissions
Publishing image set from archive "/build/test/e2e/operator-test.29955/create_diff/mirror_seq2_000000.tar" to registry "localhost.localdomain:5001"
Unarchiving metadata into oc-mirror-workspace/images.2459226269
looking for metadata file at "publish/.metadata.json"
Checking for existing metadata image at localhost.localdomain:5001/oc-mirror:bc0b066c-12cf-4d04-b46c-09abbfef972e
looking for metadata file at "publish/.metadata.json"
Checking metadata sequence number
Unpacking any provided Helm charts to oc-mirror-workspace/results-1710518764
Process all images in imageset
mirror reference: imagesource.TypedImageReference{Type:"docker", Ref:reference.DockerImageReference{Registry:"localhost.localdomain:5001", Namespace:"", Name:"", Tag:"", ID:""}}
reading assoc: quay.io/powercloud/oc-mirror-dev@sha256:eb374b4afc6032e7bf5c425803137af1e8085bf767b9f2cf0b189e691bcd1b53
Found layer sha256:d8b85dc6c9b240cf7bddadd350fc348e00e7d3ce042a373a6fe0f42af7dfee15 for image quay.io/powercloud/oc-mirror-dev@sha256:eb374b4afc6032e7bf5c425803137af1e8085bf767b9f2cf0b189e691bcd1b53
Blob sha256:d8b85dc6c9b240cf7bddadd350fc348e00e7d3ce042a373a6fe0f42af7dfee15 found in powercloud/oc-mirror-dev
Found layer sha256:dde314b8d072c93790ef070ca31d1b574d49d65334f6aff11b8f402632dbe649 for image quay.io/powercloud/oc-mirror-dev@sha256:eb374b4afc6032e7bf5c425803137af1e8085bf767b9f2cf0b189e691bcd1b53
Blob sha256:dde314b8d072c93790ef070ca31d1b574d49d65334f6aff11b8f402632dbe649 found in powercloud/oc-mirror-dev
Found layer sha256:737386cf05a799a9756b8dd38c3828d78bac3232c16b6fbb3d7971e62a14eccf for image quay.io/powercloud/oc-mirror-dev@sha256:eb374b4afc6032e7bf5c425803137af1e8085bf767b9f2cf0b189e691bcd1b53
Blob sha256:737386cf05a799a9756b8dd38c3828d78bac3232c16b6fbb3d7971e62a14eccf found in powercloud/oc-mirror-dev
mirroring generic images: ["file://powercloud/oc-mirror-dev@sha256:eb374b4afc6032e7bf5c425803137af1e8085bf767b9f2cf0b189e691bcd1b53"]
Repository https://registry-1.docker.io powercloud/oc-mirror-dev
localhost.localdomain:5001/
worker 1 stopping
  powercloud/oc-mirror-dev
    blobs:
      file://powercloud/oc-mirror-dev sha256:dde314b8d072c93790ef070ca31d1b574d49d65334f6aff11b8f402632dbe649 351B
worker 0 stopping
worker 2 stopping
      file://powercloud/oc-mirror-dev sha256:d8b85dc6c9b240cf7bddadd350fc348e00e7d3ce042a373a6fe0f42af7dfee15 1.657KiB
worker 5 stopping
      file://powercloud/oc-mirror-dev sha256:737386cf05a799a9756b8dd38c3828d78bac3232c16b6fbb3d7971e62a14eccf 3.064KiB
worker 4 stopping
    manifests:
      sha256:eb374b4afc6032e7bf5c425803137af1e8085bf767b9f2cf0b189e691bcd1b53 -> 5c9d6e86
  stats: shared=0 unique=3 size=5.064KiB ratio=1.00

phase 0:
  localhost.localdomain:5001 powercloud/oc-mirror-dev worker 0 stopping
blobs=3worker 1 stopping
 work queue exiting
worker 3 stopping
worker 3 stopping
worker 2 stopping
work queue exiting
mounts=0 manifests=1 shared=0

info: Planning completed in 10ms
sha256:eb374b4afc6032e7bf5c425803137af1e8085bf767b9f2cf0b189e691bcd1b53 localhost.localdomain:5001/powercloud/oc-mirror-dev:5c9d6e86
info: Mirroring completed in 20ms (180.1kB/s)
worker 3 stopping
worker 1 stopping
worker 0 stopping
worker 1 stopping
worker 3 stopping
work queue exiting
worker 2 stopping
worker 0 stopping
worker 4 stopping
reading assoc: quay.io/powercloud/oc-mirror-dev@sha256:b5a111b30adfe0a0753ade546299093d0661175d60819393d601d09c186d9307
work queue exiting
worker 5 stopping
worker 2 stopping
Found layer sha256:d202a319c51beb5cb1d382c741af85f322fabc814574bdd6901678baf857806f for image quay.io/powercloud/oc-mirror-dev@sha256:b5a111b30adfe0a0753ade546299093d0661175d60819393d601d09c186d9307
Blob sha256:d202a319c51beb5cb1d382c741af85f322fabc814574bdd6901678baf857806f found in powercloud/oc-mirror-dev
Found layer sha256:d60a8421dbb32df4af7fe860abd34d070602376909ac4250d1f79d479500a172 for image quay.io/powercloud/oc-mirror-dev@sha256:b5a111b30adfe0a0753ade546299093d0661175d60819393d601d09c186d9307
Blob sha256:d60a8421dbb32df4af7fe860abd34d070602376909ac4250d1f79d479500a172 found in powercloud/oc-mirror-dev
Found layer sha256:2053b50856f4ad890a2df92564ba476942ebd9223bf5d74856afe09c4b9ab428 for image quay.io/powercloud/oc-mirror-dev@sha256:b5a111b30adfe0a0753ade546299093d0661175d60819393d601d09c186d9307
Blob sha256:2053b50856f4ad890a2df92564ba476942ebd9223bf5d74856afe09c4b9ab428 found in powercloud/oc-mirror-dev
mirroring generic images: ["file://powercloud/oc-mirror-dev@sha256:b5a111b30adfe0a0753ade546299093d0661175d60819393d601d09c186d9307"]
Repository https://registry-1.docker.io powercloud/oc-mirror-dev
localhost.localdomain:5001/
worker 2 stopping
  powercloud/oc-mirror-dev
worker 0 stopping
    blobs:
      file://powercloud/oc-mirror-dev sha256:d60a8421dbb32df4af7fe860abd34d070602376909ac4250d1f79d479500a172 349B
      file://powercloud/oc-mirror-dev sha256:d202a319c51beb5cb1d382c741af85f322fabc814574bdd6901678baf857806f 1.643KiB
      file://powercloud/oc-mirror-dev sha256:2053b50856f4ad890a2df92564ba476942ebd9223bf5d74856afe09c4b9ab428 3.064KiB
    manifests:
      sha256:b5a111b30adfe0a0753ade546299093d0661175d60819393d601d09c186d9307 -> f14bd0db
worker 4 stopping
worker 1 stopping
worker 5 stopping
worker 1 stopping
work queue exiting
worker 3 stopping
  stats: shared=0 unique=3 size=5.048KiB ratio=1.00
worker 3 stopping

work queue exiting
phase 0:
  localhost.localdomain:5001 powercloud/oc-mirror-dev blobs=3worker 0 stopping
worker 2 stopping
 mounts=0 manifests=1 shared=0

info: Planning completed in 10ms
sha256:b5a111b30adfe0a0753ade546299093d0661175d60819393d601d09c186d9307 localhost.localdomain:5001/powercloud/oc-mirror-dev:f14bd0db
info: Mirroring completed in 30ms (159.7kB/s)
worker 1 stopping
worker 2 stopping
worker 0 stopping
work queue exiting
worker 5 stopping
worker 4 stopping
worker 2 stopping
worker 0 stopping
worker 1 stopping
worker 3 stopping
work queue exiting
worker 3 stopping
No images specified for pruning
Unpack release signatures
Wrote release signatures to oc-mirror-workspace/results-1710518764
rebuilding catalog images
Rendering catalog image "localhost.localdomain:5001/powercloud/target-name:target-tag" with file-based catalog 
"Using existing OCI layout to oc-mirror-workspace/images.2459226269/catalogs/localhost.localdomain:5000/powercloud/target-name/target-tag/layout"
level=debug msg=resolving host=localhost.localdomain:5001
level=debug msg=do request host=localhost.localdomain:5001 request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://localhost.localdomain:5001/v2/powercloud/target-name/manifests/target-tag
level=debug msg=fetch response received host=localhost.localdomain:5001 response.header.content-length=320 response.header.content-type=application/vnd.docker.distribution.manifest.list.v2+json response.header.date=Fri, 15 Mar 2024 16:06:04 GMT response.header.docker-content-digest=sha256:1991036abe560751b44b9ae8136c7b3a60cf711e1ce52340c12d01915217c767 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:1991036abe560751b44b9ae8136c7b3a60cf711e1ce52340c12d01915217c767" response.header.x-content-type-options=nosniff response.status=200 OK url=http://localhost.localdomain:5001/v2/powercloud/target-name/manifests/target-tag
level=debug msg=resolved desc.digest=sha256:1991036abe560751b44b9ae8136c7b3a60cf711e1ce52340c12d01915217c767 host=localhost.localdomain:5001
building cincinnati graph data image
No  graph data found in archive, skipping graph image build
Pushing metadata to registry at localhost.localdomain:5001/oc-mirror:bc0b066c-12cf-4d04-b46c-09abbfef972e
Writing image mapping to oc-mirror-workspace/results-1710518764/mapping.txt
Writing CatalogSource manifests to oc-mirror-workspace/results-1710518764
Writing ICSP manifests to oc-mirror-workspace/results-1710518764
+ popd
/build
+ check_bundles localhost.localdomain:5001/powercloud/target-name:target-tag 'bar.v0.1.0 bar.v0.2.0 bar.v1.0.0 baz.v1.1.0 foo.v0.3.0 foo.v0.3.1 foo.v0.3.2' localhost.localdomain:5001
+ local catalog_image=localhost.localdomain:5001/powercloud/target-name:target-tag
+ local 'exp_bundles_list=bar.v0.1.0 bar.v0.2.0 bar.v1.0.0 baz.v1.1.0 foo.v0.3.0 foo.v0.3.1 foo.v0.3.2'
+ local disconn_registry=localhost.localdomain:5001
+ local ns=
+ local extraction_dir=/build/test/e2e/operator-test.29955/extracted
+ mkdir -p /build/test/e2e/operator-test.29955/extracted
+ local index_dir=/build/test/e2e/operator-test.29955/unpacked
+ local index_path=/build/test/e2e/operator-test.29955/unpacked/index.json
+ mkdir -p /build/test/e2e/operator-test.29955/unpacked
+ go run -mod=readonly test/e2e/lib/catalog-extract/main.go localhost.localdomain:5001/powercloud/target-name:target-tag /build/test/e2e/operator-test.29955/extracted/temp.tar
+ tar xvf /build/test/e2e/operator-test.29955/extracted/temp.tar /configs/index.json --strip-components=1
tar: Removing leading `/' from member names
/configs/index.json
+ mv index.json /build/test/e2e/operator-test.29955/unpacked
+ local cache_dir=/build/test/e2e/operator-test.29955/extracted/cache
+ tar xvf /build/test/e2e/operator-test.29955/extracted/temp.tar /cache
tar: Removing leading `/' from member names
/cache
/cache/cache
/cache/cache/bar_alpha_bar.v0.1.0.json
/cache/cache/bar_alpha_bar.v0.2.0.json
/cache/cache/bar_alpha_bar.v1.0.0.json
/cache/cache/bar_stable_bar.v1.0.0.json
/cache/cache/baz_stable_baz.v1.1.0.json
/cache/cache/foo_beta_foo.v0.3.0.json
/cache/cache/foo_beta_foo.v0.3.1.json
/cache/cache/foo_beta_foo.v0.3.2.json
/cache/cache/packages.json
/cache/digest
+ mv cache /build/test/e2e/operator-test.29955/extracted
+ local opm_path=/build/test/e2e/operator-test.29955/extracted/opm
+ tar xvf /build/test/e2e/operator-test.29955/extracted/temp.tar bin/opm
bin/opm
+ mv bin/opm /build/test/e2e/operator-test.29955/extracted
+ chmod +x /build/test/e2e/operator-test.29955/extracted/opm
+ /build/test/e2e/operator-test.29955/extracted/opm validate /build/test/e2e/operator-test.29955/unpacked
+ /build/test/e2e/operator-test.29955/extracted/opm serve /build/test/e2e/operator-test.29955/unpacked --cache-dir=/build/test/e2e/operator-test.29955/extracted/cache --cache-only --cache-enforce-integrity
[36mINFO[0m[0000] starting pprof endpoint                       [36maddress[0m="localhost:6060"
+ rm -fr /build/test/e2e/operator-test.29955/extracted
+ declare -A exp_bundles_set
+ for bundle in $exp_bundles_list
+ exp_bundles_set[$bundle]=bundle
+ for bundle in $exp_bundles_list
+ exp_bundles_set[$bundle]=bundle
+ for bundle in $exp_bundles_list
+ exp_bundles_set[$bundle]=bundle
+ for bundle in $exp_bundles_list
+ exp_bundles_set[$bundle]=bundle
+ for bundle in $exp_bundles_list
+ exp_bundles_set[$bundle]=bundle
+ for bundle in $exp_bundles_list
+ exp_bundles_set[$bundle]=bundle
+ for bundle in $exp_bundles_list
+ exp_bundles_set[$bundle]=bundle
++ crane manifest --insecure --platform all localhost.localdomain:5001/powercloud/target-name:target-tag
++ jq .manifests
++ jq '.[].platform.architecture'
+ local 'manifest="ppc64le"'
++ echo '"ppc64le"'
++ wc -w
+ local num_manifest=1
+ ((  1 != 1  ))
++ cat /build/test/e2e/operator-test.29955/unpacked/index.json
++ jq -sr '.[] | select(.schema == "olm.bundle") | .name'
+ local 'index_bundle_names=bar.v0.1.0
bar.v0.2.0
bar.v1.0.0
baz.v1.1.0
foo.v0.3.0
foo.v0.3.1
foo.v0.3.2'
++ echo bar.v0.1.0 bar.v0.2.0 bar.v1.0.0 baz.v1.1.0 foo.v0.3.0 foo.v0.3.1 foo.v0.3.2
++ wc -w
+ local num_bundles=7
+ ((  7 != 7  ))
++ cat /build/test/e2e/operator-test.29955/unpacked/index.json
++ jq -sr '.[] | select(.schema == "olm.bundle") | .image'
+ local 'index_bundle_images=quay.io/powercloud/oc-mirror-dev@sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99
quay.io/powercloud/oc-mirror-dev@sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940
quay.io/powercloud/oc-mirror-dev@sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5
quay.io/powercloud/oc-mirror-dev@sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0
quay.io/powercloud/oc-mirror-dev@sha256:b5a111b30adfe0a0753ade546299093d0661175d60819393d601d09c186d9307
quay.io/powercloud/oc-mirror-dev@sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf
quay.io/powercloud/oc-mirror-dev@sha256:eb374b4afc6032e7bf5c425803137af1e8085bf767b9f2cf0b189e691bcd1b53'
+ [[ ! -z '' ]]
+ for image in $index_bundle_images
++ echo quay.io/powercloud/oc-mirror-dev@sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99
++ cut --complement -d/ -f1
+ image=localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99
+ crane digest localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99 --insecure
sha256:de899e7560d8fea4707d7255e0af12ad44605381e7bdfe9dc3eb969626650d99
+ for image in $index_bundle_images
++ echo quay.io/powercloud/oc-mirror-dev@sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940
++ cut --complement -d/ -f1
+ image=localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940
+ crane digest localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940 --insecure
sha256:d1a892dd8322ecb3ed1f6e49721c33813adb2f266cd2e5389f27b2e1418fa940
+ for image in $index_bundle_images
++ echo quay.io/powercloud/oc-mirror-dev@sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5
++ cut --complement -d/ -f1
+ image=localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5
+ crane digest localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5 --insecure
sha256:4d617d1529df8946cb68634d8e31d964045ba48eb32d0a735b36fcf6d02649a5
+ for image in $index_bundle_images
++ echo quay.io/powercloud/oc-mirror-dev@sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0
++ cut --complement -d/ -f1
+ image=localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0
+ crane digest localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0 --insecure
sha256:1cf0af18598bbb21953261c7dc760cdfd5cb33a01c8e2dddba4ca1ee3b4378d0
+ for image in $index_bundle_images
++ echo quay.io/powercloud/oc-mirror-dev@sha256:b5a111b30adfe0a0753ade546299093d0661175d60819393d601d09c186d9307
++ cut --complement -d/ -f1
+ image=localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:b5a111b30adfe0a0753ade546299093d0661175d60819393d601d09c186d9307
+ crane digest localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:b5a111b30adfe0a0753ade546299093d0661175d60819393d601d09c186d9307 --insecure
sha256:b5a111b30adfe0a0753ade546299093d0661175d60819393d601d09c186d9307
+ for image in $index_bundle_images
++ echo quay.io/powercloud/oc-mirror-dev@sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf
++ cut --complement -d/ -f1
+ image=localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf
+ crane digest localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf --insecure
sha256:1e57359646b3c85661b75dcfbaf58f8acf820b20fc7eedee94959912ac8029bf
+ for image in $index_bundle_images
++ echo quay.io/powercloud/oc-mirror-dev@sha256:eb374b4afc6032e7bf5c425803137af1e8085bf767b9f2cf0b189e691bcd1b53
++ cut --complement -d/ -f1
+ image=localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:eb374b4afc6032e7bf5c425803137af1e8085bf767b9f2cf0b189e691bcd1b53
+ crane digest localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:eb374b4afc6032e7bf5c425803137af1e8085bf767b9f2cf0b189e691bcd1b53 --insecure
sha256:eb374b4afc6032e7bf5c425803137af1e8085bf767b9f2cf0b189e691bcd1b53
+ for bundle in $index_bundle_names
+ [[ bundle != \b\u\n\d\l\e ]]
+ for bundle in $index_bundle_names
+ [[ bundle != \b\u\n\d\l\e ]]
+ for bundle in $index_bundle_names
+ [[ bundle != \b\u\n\d\l\e ]]
+ for bundle in $index_bundle_names
+ [[ bundle != \b\u\n\d\l\e ]]
+ for bundle in $index_bundle_names
+ [[ bundle != \b\u\n\d\l\e ]]
+ for bundle in $index_bundle_names
+ [[ bundle != \b\u\n\d\l\e ]]
+ for bundle in $index_bundle_names
+ [[ bundle != \b\u\n\d\l\e ]]
+ rm -rf /build/test/e2e/operator-test.29955
+ cleanup_all
+ [[ -n 1887 ]]
+ kill 1887
+ PID_DISONN=
+ [[ -n 1867 ]]
+ kill 1867
+ PID_CON=
+ [[ -n '' ]]
+ for i in "${!TESTCASES[@]}"
+ echo -e 'INFO: Running m2d2m_oci_catalog\n'
INFO: Running m2d2m_oci_catalog

+ mkdir -p /build/test/e2e/operator-test.29955
+ setup_reg
+ echo -e 'Setting up registries'
Setting up registries
+ cp /build/test/e2e/e2e-config.yaml /build/test/e2e/operator-test.29955/conn.yaml
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@TMP@/build/test/e2e/operator-test.29955/conn@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@PORT@5000@g '{}' ';'
++ expr 5000 + 10
+ DPORT=5010
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@DEBUG@5010@g '{}' ';'
+ PID_CONN=4901
+ cp /build/test/e2e/e2e-config.yaml /build/test/e2e/operator-test.29955/disconn.yaml
+ registry serve /build/test/e2e/operator-test.29955/conn.yaml
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@TMP@/build/test/e2e/operator-test.29955/disconn@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@PORT@5001@g '{}' ';'
++ expr 5001 + 10
+ DPORT=5011
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@DEBUG@5011@g '{}' ';'
+ PID_DISCONN=4920
+ PID_GO=
+ echo -e 'disconnected registry PID: 4920'
disconnected registry PID: 4920
+ echo -e 'connected registry PID: 4901'
+ registry serve /build/test/e2e/operator-test.29955/disconn.yaml
connected registry PID: 4901
+ m2d2m_oci_catalog
+ rm -fr olm_artifacts
+ workflow_m2d2m_oci_catalog imageset-config-oci-mirror.yaml localhost.localdomain:5001 '-c=--source-use-http  --source-skip-tls'
+ parse_args imageset-config-oci-mirror.yaml localhost.localdomain:5001 '-c=--source-use-http  --source-skip-tls'
+ NS=
+ CREATE_FLAGS=
+ PUBLISH_FLAGS=
+ DIFF=false
+ for i in "$@"
+ case "$i" in
+ for i in "$@"
+ case "$i" in
+ for i in "$@"
+ case "$i" in
+ CREATE_FLAGS='--source-use-http  --source-skip-tls'
+ shift
+ local config=imageset-config-oci-mirror.yaml
+ local remote_image=localhost.localdomain:5001
+ mkdir /build/test/e2e/operator-test.29955/publish_full
+ prepare_oci_testdata /build/test/e2e/operator-test.29955
+ local DATA_DIR=/build/test/e2e/operator-test.29955
+ mkdir -p /build/test/e2e/operator-test.29955/mirror_oci
+ tar xfz /build/test/e2e/artifacts/oc-mirror-power-dev.tgz -C /build/test/e2e/operator-test.29955/mirror_oci
+ mkdir -p olm_artifacts/oc-mirror-dev
+ cp -r /build/test/e2e/artifacts/configs olm_artifacts/oc-mirror-dev/
+ prepare_mirror_testdata /build/test/e2e/operator-test.29955 /build/test/e2e/operator-test.29955/mirror_oci imageset-config-oci-mirror.yaml false
+ local DATA_DIR=/build/test/e2e/operator-test.29955
+ local OUTPUT_DIR=/build/test/e2e/operator-test.29955/mirror_oci
+ local CONFIG_PATH=imageset-config-oci-mirror.yaml
+ local DIFF=false
+ local CATALOG_DIGEST=
+ echo -e '\nSetting up test directory in /build/test/e2e/operator-test.29955'

Setting up test directory in /build/test/e2e/operator-test.29955
+ cp /build/test/e2e/configs/imageset-config-oci-mirror.yaml /build/test/e2e/operator-test.29955/mirror_oci/
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@METADATA_CATALOGNAMESPACE@localhost.localdomain:5000/powercloud/oc-mirror-dev@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@METADATA_OCI_CATALOG@oci:///build/test/e2e/artifacts/rhop-ctlg-oci@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@CATALOG_DIGEST@@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@TARGET_CATALOG_NAME@target-name@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@TARGET_CATALOG_TAG@target-tag@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@DATA_TMP@/build/test/e2e/operator-test.29955@g '{}' ';'
+ find /build/test/e2e/operator-test.29955 -type f -exec sed -i -E s@MIRROR_OCI_DIR@/build/test/e2e/operator-test.29955/mirror_oci@g '{}' ';'
+ run_cmd --config /build/test/e2e/operator-test.29955/mirror_oci/imageset-config-oci-mirror.yaml file:///build/test/e2e/operator-test.29955/create_full --source-use-http --source-skip-tls
+ local 'test_flags=--verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy'
+ echo /build/bin/oc-mirror --config /build/test/e2e/operator-test.29955/mirror_oci/imageset-config-oci-mirror.yaml file:///build/test/e2e/operator-test.29955/create_full --source-use-http --source-skip-tls --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
/build/bin/oc-mirror --config /build/test/e2e/operator-test.29955/mirror_oci/imageset-config-oci-mirror.yaml file:///build/test/e2e/operator-test.29955/create_full --source-use-http --source-skip-tls --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
+ echo

+ /build/bin/oc-mirror --config /build/test/e2e/operator-test.29955/mirror_oci/imageset-config-oci-mirror.yaml file:///build/test/e2e/operator-test.29955/create_full --source-use-http --source-skip-tls --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
Creating directory: /build/test/e2e/operator-test.29955/create_full/oc-mirror-workspace/src/publish
Creating directory: /build/test/e2e/operator-test.29955/create_full/oc-mirror-workspace/src/v2
Creating directory: /build/test/e2e/operator-test.29955/create_full/oc-mirror-workspace/src/charts
Creating directory: /build/test/e2e/operator-test.29955/create_full/oc-mirror-workspace/src/release-signatures
Using local backend at location /build/test/e2e/operator-test.29955
looking for metadata file at "publish/.metadata.json"
No metadata detected, creating new workspace
path to oci layout does not exist (this is expected): stat powercloud/oc-mirror-dev:test-catalog-latest/index.json: no such file or directory
Checking for package: {baz [] [] [] >=1.0.1 <=1.0.1}
bundle baz.v1.0.1: pinning bundle image quay.io/powercloud/oc-mirror-dev:baz-bundle-v1.0.1 to digest
bundle baz.v1.0.1: pinning bundle image quay.io/powercloud/oc-mirror-dev:baz-bundle-v1.0.1 to digest
level=debug msg=resolving host=quay.io
level=debug msg=do request host=quay.io request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/baz-bundle-v1.0.1
level=debug msg=fetch response received host=quay.io response.header.connection=keep-alive response.header.content-length=585 response.header.content-type=application/vnd.docker.distribution.manifest.v2+json response.header.date=Fri, 15 Mar 2024 16:06:09 GMT response.header.docker-content-digest=sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e response.header.server=nginx/1.22.1 response.header.strict-transport-security=max-age=63072000; preload response.header.vary=Cookie response.header.x-frame-options=DENY response.status=200 OK url=http://quay.io/v2/powercloud/oc-mirror-dev/manifests/baz-bundle-v1.0.1
level=debug msg=resolved desc.digest=sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e host=quay.io
level=debug msg=Loading registries configuration "/etc/containers/registries.conf"
2 related images processed in 225.659Âµs
Writing image mapping to /build/test/e2e/operator-test.29955/create_full/oc-mirror-workspace/operators.1710518767/manifests-oc-mirror-dev/mapping.txt
Repository https://registry-1.docker.io powercloud/oc-mirror-dev
Repository https://registry-1.docker.io powercloud/oc-mirror-dev
<dir>
worker 1 stopping
  powercloud/oc-mirror-dev
    blobs:
      quay.io/powercloud/oc-mirror-dev sha256:bb0f096c05d39505004f567b53d7c06dbe544bc6d84bb98d20d91ced20323ce7 218B
      quay.io/powercloud/oc-mirror-dev sha256:3c53b9a63e69ac34f5c788821cd5d548abd0198d9323809d975d06d0ef604fea 230B
      quay.io/powercloud/oc-mirror-dev sha256:a07df2085801596b5524a59f17bb0bc687504d8a90301112a1a8b7b3b7d13c3d 1.622KiB
      quay.io/powercloud/oc-mirror-dev sha256:4e7fee3142df14eb295570f9fd4331fccd70fd129e5a5820a5835169d7633b9c 2.44KiB
worker 0 stopping
      quay.io/powercloud/oc-mirror-dev sha256:13bcdd27d006a6dffa3e3d868ae056ed0c369304d79541872a87fb365b468d1b 3.07KiB
      quay.io/powercloud/oc-mirror-dev sha256:7c251ec1f052524ecd7d6cb049b06fae03248ce89681b2b9c3549f2d60de3858 798.1KiB
      quay.io/powercloud/oc-mirror-dev sha256:cef026ec9c692bf3960c12a4ce4e35d4a9398dc8b8a9db8ecf1ac07e9cb3c618 808KiB
    manifests:
      sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e -> 48bfd0
worker 2 stopping
      sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df -> bb9472
  stats: shared=0 unique=7 size=1.576MiB ratio=1.00

phase 0:
work queue exiting
worker 5 stopping
  worker 3 stopping
 worker 2 stopping
powercloud/oc-mirror-devworker 3 stopping
 blobs=7worker 0 stopping
 work queue exiting
mounts=0worker 4 stopping
 worker 1 stopping
manifests=2 shared=0

info: Planning completed in 800ms
uploading: file://powercloud/oc-mirror-dev sha256:7c251ec1f052524ecd7d6cb049b06fae03248ce89681b2b9c3549f2d60de3858 798.1KiB
uploading: file://powercloud/oc-mirror-dev sha256:cef026ec9c692bf3960c12a4ce4e35d4a9398dc8b8a9db8ecf1ac07e9cb3c618 808KiB
sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e file://powercloud/oc-mirror-dev:48bfd0
sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df file://powercloud/oc-mirror-dev:bb9472
info: Mirroring completed in 3.2s (516.2kB/s)
worker 4 stopping
worker 1 stopping
worker 1 stopping
worker 2 stopping
worker 5 stopping
worker 3 stopping
worker 0 stopping
work queue exiting
worker 3 stopping
worker 0 stopping
work queue exiting
worker 2 stopping
Adding blob sha256:13bcdd27d006a6dffa3e3d868ae056ed0c369304d79541872a87fb365b468d1b
Adding blob sha256:3c53b9a63e69ac34f5c788821cd5d548abd0198d9323809d975d06d0ef604fea
Adding blob sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e
Adding blob sha256:4e7fee3142df14eb295570f9fd4331fccd70fd129e5a5820a5835169d7633b9c
Adding blob sha256:7c251ec1f052524ecd7d6cb049b06fae03248ce89681b2b9c3549f2d60de3858
Adding blob sha256:a07df2085801596b5524a59f17bb0bc687504d8a90301112a1a8b7b3b7d13c3d
Adding blob sha256:bb0f096c05d39505004f567b53d7c06dbe544bc6d84bb98d20d91ced20323ce7
Adding blob sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df
Adding blob sha256:cef026ec9c692bf3960c12a4ce4e35d4a9398dc8b8a9db8ecf1ac07e9cb3c618
looking for metadata file at "publish/.metadata.json"
Resolving operator metadata
path to oci layout does not exist (this is expected): stat powercloud/oc-mirror-dev:test-catalog-latest/index.json: no such file or directory
Resolving OCP release metadata
Creating archive /build/test/e2e/operator-test.29955/create_full/mirror_seq1_000000.tar
File . will not be archived, skipping...
File catalogs added to archive
File catalogs/powercloud added to archive
File catalogs/powercloud/oc-mirror-dev added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/bin added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/bin/opm added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/cacheLocation.txt added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/include-config.gob added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/index added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/index/index.json added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout/blobs added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout/blobs/sha256 added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout/blobs/sha256/1b9c2929b9ac5c1b16de1fc930c0c1199d23bddf89568e8bcec13865c0820f37 added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout/blobs/sha256/21f8a4e5bf8062782e7f9322067721829fcedb6cc4d93b198819369ed6ad3de4 added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout/blobs/sha256/3eb522211075a6a99b12f6896149e1919b813c8fa6dd9f394486cbaba5e6d449 added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout/blobs/sha256/48e60081527b331f29163f320651b24aab51b069917673e722e05fcf047262f3 added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout/blobs/sha256/4e700e4525b70ee0923a4ee04eb0d4f53b0424933e4fbece3f801af6be4d8c32 added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout/blobs/sha256/5c5ac8c6fff90dcfbbabe84140c7cc645957290c860340aea1008346595be1fa added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout/blobs/sha256/6121c016ac220361acd4fd6c2ff2322cf47dc781307b9e1ac10918e0479e94d5 added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout/blobs/sha256/80f00805faa81bccdbddf9458369d8dede6a30de1dced521f32a6237aeca64c2 added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout/blobs/sha256/8b26448918d9188f82767e8f9e45a104d1c6d98e52067e08a17566c6c8a64a6c added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout/blobs/sha256/927ef23185e7d34c70bb0c9ac8bddf5665080cc821de3d16ac39cf4ee8cadc81 added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout/blobs/sha256/a9782c0fb3755fc72c54e2c1a0b98940ab394f616aaa223a64cd87e1001aa087 added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout/blobs/sha256/b49267e860909c1e476d125b0b2057f9f17e8fa8484fa206e42466d91ee075e6 added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout/blobs/sha256/b4aa04aa577f2b2f4b4a930e905d091b68b0719ec302b9abca710ffae50ebcaa added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout/blobs/sha256/c23224575d87af713e0ff736a737712b034548de621b3d20b8d9360ecc6a8e70 added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout/blobs/sha256/c4629cdd872fe25c2febaf12f30590cbf351e0f77afd6079268a6b417c87788c added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout/blobs/sha256/c88c6ccadd42623966e6879382b1855b26fd7955dc7a7fbe3a2f69bbaca10760 added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout/index.json added to archive
File catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout/oci-layout added to archive
File charts added to archive
File publish will not be archived, skipping...
File release-signatures added to archive
File tmpbackend.1710518773 will not be archived, skipping...
File tmpbackend.1710518773/publish will not be archived, skipping...
File tmpbackend.1710518773/publish/.metadata.json will not be archived, skipping...
File v2 will not be archived, skipping...
File v2/powercloud will not be archived, skipping...
File v2/powercloud/oc-mirror-dev will not be archived, skipping...
File v2/powercloud/oc-mirror-dev/blobs will not be archived, skipping...
File v2/powercloud/oc-mirror-dev/blobs/sha256:13bcdd27d006a6dffa3e3d868ae056ed0c369304d79541872a87fb365b468d1b added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:3c53b9a63e69ac34f5c788821cd5d548abd0198d9323809d975d06d0ef604fea added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:4e7fee3142df14eb295570f9fd4331fccd70fd129e5a5820a5835169d7633b9c added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:7c251ec1f052524ecd7d6cb049b06fae03248ce89681b2b9c3549f2d60de3858 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:a07df2085801596b5524a59f17bb0bc687504d8a90301112a1a8b7b3b7d13c3d added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:bb0f096c05d39505004f567b53d7c06dbe544bc6d84bb98d20d91ced20323ce7 added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df added to archive
File v2/powercloud/oc-mirror-dev/blobs/sha256:cef026ec9c692bf3960c12a4ce4e35d4a9398dc8b8a9db8ecf1ac07e9cb3c618 added to archive
File v2/powercloud/oc-mirror-dev/manifests will not be archived, skipping...
File v2/powercloud/oc-mirror-dev/manifests/48bfd0 added to archive
File v2/powercloud/oc-mirror-dev/manifests/bb9472 added to archive
File v2/powercloud/oc-mirror-dev/manifests/sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e added to archive
File v2/powercloud/oc-mirror-dev/manifests/sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df added to archive
Using local backend at location /build/test/e2e/operator-test.29955
looking for metadata file at "publish/.metadata.json"
+ pushd /build/test/e2e/operator-test.29955/publish_full
/build/test/e2e/operator-test.29955/publish_full /build
+ '!false'
/build/test/e2e/lib/workflow.sh: line 125: !false: command not found
+ run_cmd --from /build/test/e2e/operator-test.29955/create_full/mirror_seq1_000000.tar docker://localhost.localdomain:5001
+ local 'test_flags=--verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy'
+ echo /build/bin/oc-mirror --from /build/test/e2e/operator-test.29955/create_full/mirror_seq1_000000.tar docker://localhost.localdomain:5001 --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
/build/bin/oc-mirror --from /build/test/e2e/operator-test.29955/create_full/mirror_seq1_000000.tar docker://localhost.localdomain:5001 --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
+ echo

+ /build/bin/oc-mirror --from /build/test/e2e/operator-test.29955/create_full/mirror_seq1_000000.tar docker://localhost.localdomain:5001 --verbose=4 --dest-use-http --skip-cleanup --oci-insecure-signature-policy
Checking push permissions for localhost.localdomain:5001
Using image localhost.localdomain:5001/oc-mirror to check permissions
Publishing image set from archive "/build/test/e2e/operator-test.29955/create_full/mirror_seq1_000000.tar" to registry "localhost.localdomain:5001"
Unarchiving metadata into oc-mirror-workspace/images.3791797800
looking for metadata file at "publish/.metadata.json"
Checking for existing metadata image at localhost.localdomain:5001/oc-mirror:226105ca-99b6-4be6-af1d-fa0d87336eb0
No existing metadata found. Setting up new workspace
Unpacking any provided Helm charts to oc-mirror-workspace/results-1710518773
Process all images in imageset
mirror reference: imagesource.TypedImageReference{Type:"docker", Ref:reference.DockerImageReference{Registry:"localhost.localdomain:5001", Namespace:"", Name:"", Tag:"", ID:""}}
reading assoc: quay.io/powercloud/oc-mirror-dev@sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df
Found layer sha256:cef026ec9c692bf3960c12a4ce4e35d4a9398dc8b8a9db8ecf1ac07e9cb3c618 for image quay.io/powercloud/oc-mirror-dev@sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df
Blob sha256:cef026ec9c692bf3960c12a4ce4e35d4a9398dc8b8a9db8ecf1ac07e9cb3c618 found in powercloud/oc-mirror-dev
Found layer sha256:7c251ec1f052524ecd7d6cb049b06fae03248ce89681b2b9c3549f2d60de3858 for image quay.io/powercloud/oc-mirror-dev@sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df
Blob sha256:7c251ec1f052524ecd7d6cb049b06fae03248ce89681b2b9c3549f2d60de3858 found in powercloud/oc-mirror-dev
Found layer sha256:bb0f096c05d39505004f567b53d7c06dbe544bc6d84bb98d20d91ced20323ce7 for image quay.io/powercloud/oc-mirror-dev@sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df
Blob sha256:bb0f096c05d39505004f567b53d7c06dbe544bc6d84bb98d20d91ced20323ce7 found in powercloud/oc-mirror-dev
Found layer sha256:4e7fee3142df14eb295570f9fd4331fccd70fd129e5a5820a5835169d7633b9c for image quay.io/powercloud/oc-mirror-dev@sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df
Blob sha256:4e7fee3142df14eb295570f9fd4331fccd70fd129e5a5820a5835169d7633b9c found in powercloud/oc-mirror-dev
mirroring generic images: ["file://powercloud/oc-mirror-dev@sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df"]
Repository https://registry-1.docker.io powercloud/oc-mirror-dev
localhost.localdomain:5001/
  powercloud/oc-mirror-dev
worker 1 stopping
    blobs:
worker 2 stopping
worker 1 stopping
worker 3 stopping
      file://powercloud/oc-mirror-dev sha256:bb0f096c05d39505004f567b53d7c06dbe544bc6d84bb98d20d91ced20323ce7 218B
      file://powercloud/oc-mirror-dev sha256:4e7fee3142df14eb295570f9fd4331fccd70fd129e5a5820a5835169d7633b9c 2.44KiB
      file://powercloud/oc-mirror-dev sha256:7c251ec1f052524ecd7d6cb049b06fae03248ce89681b2b9c3549f2d60de3858 798.1KiB
worker 4 stopping
      file://powercloud/oc-mirror-dev sha256:cef026ec9c692bf3960c12a4ce4e35d4a9398dc8b8a9db8ecf1ac07e9cb3c618 808KiB
work queue exiting
    manifests:
worker 5 stopping
worker 0 stopping
worker 3 stopping
worker 2 stopping
work queue exiting
      sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df -> bb9472
worker 0 stopping
  stats: shared=0 unique=4 size=1.571MiB ratio=1.00

phase 0:
  localhost.localdomain:5001 powercloud/oc-mirror-dev blobs=4 mounts=0 manifests=1 shared=0

info: Planning completed in 10ms
uploading: localhost.localdomain:5001/powercloud/oc-mirror-dev sha256:cef026ec9c692bf3960c12a4ce4e35d4a9398dc8b8a9db8ecf1ac07e9cb3c618 808KiB
uploading: localhost.localdomain:5001/powercloud/oc-mirror-dev sha256:7c251ec1f052524ecd7d6cb049b06fae03248ce89681b2b9c3549f2d60de3858 798.1KiB
sha256:bb9472a0e4e9b9a9c9d10bae8d97a0ceef2954f4f1aea0a056dd8aa4f24ac0df localhost.localdomain:5001/powercloud/oc-mirror-dev:bb9472
info: Mirroring completed in 40ms (37.33MB/s)
worker 0 stopping
worker 4 stopping
worker 2 stopping
worker 3 stopping
worker 1 stopping
work queue exiting
worker 2 stopping
worker 3 stopping
reading assoc: quay.io/powercloud/oc-mirror-dev@sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e
worker 1 stopping
work queue exiting
worker 0 stopping
worker 5 stopping
Found layer sha256:a07df2085801596b5524a59f17bb0bc687504d8a90301112a1a8b7b3b7d13c3d for image quay.io/powercloud/oc-mirror-dev@sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e
Blob sha256:a07df2085801596b5524a59f17bb0bc687504d8a90301112a1a8b7b3b7d13c3d found in powercloud/oc-mirror-dev
Found layer sha256:3c53b9a63e69ac34f5c788821cd5d548abd0198d9323809d975d06d0ef604fea for image quay.io/powercloud/oc-mirror-dev@sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e
Blob sha256:3c53b9a63e69ac34f5c788821cd5d548abd0198d9323809d975d06d0ef604fea found in powercloud/oc-mirror-dev
Found layer sha256:13bcdd27d006a6dffa3e3d868ae056ed0c369304d79541872a87fb365b468d1b for image quay.io/powercloud/oc-mirror-dev@sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e
Blob sha256:13bcdd27d006a6dffa3e3d868ae056ed0c369304d79541872a87fb365b468d1b found in powercloud/oc-mirror-dev
mirroring generic images: ["file://powercloud/oc-mirror-dev@sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e"]
Repository https://registry-1.docker.io powercloud/oc-mirror-dev
localhost.localdomain:5001/
worker 2 stopping
  powercloud/oc-mirror-dev
    blobs:
      file://powercloud/oc-mirror-dev sha256:3c53b9a63e69ac34f5c788821cd5d548abd0198d9323809d975d06d0ef604fea 230B
worker 1 stopping
worker 4 stopping
worker 2 stopping
worker 0 stopping
      file://powercloud/oc-mirror-dev sha256:a07df2085801596b5524a59f17bb0bc687504d8a90301112a1a8b7b3b7d13c3d 1.622KiB
      file://powercloud/oc-mirror-dev sha256:13bcdd27d006a6dffa3e3d868ae056ed0c369304d79541872a87fb365b468d1b 3.07KiB
    manifests:
      sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e -> 48bfd0
  stats: shared=0 unique=3 size=4.917KiB ratio=1.00

phase 0:
work queue exiting
  localhost.localdomain:5001worker 5 stopping
work queue exiting
worker 1 stopping
worker 3 stopping
worker 3 stopping
 worker 0 stopping
powercloud/oc-mirror-dev blobs=3 mounts=0 manifests=1 shared=0

info: Planning completed in 10ms
sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e localhost.localdomain:5001/powercloud/oc-mirror-dev:48bfd0
info: Mirroring completed in 30ms (158.2kB/s)
worker 2 stopping
worker 5 stopping
worker 0 stopping
work queue exiting
worker 1 stopping
worker 0 stopping
work queue exiting
worker 3 stopping
worker 1 stopping
No images specified for pruning
Unpack release signatures
worker 3 stopping
worker 4 stopping
worker 2 stopping
Wrote release signatures to oc-mirror-workspace/results-1710518773
rebuilding catalog images
Rendering catalog image "localhost.localdomain:5001/powercloud/oc-mirror-dev:test-catalog-latest" with file-based catalog 
"Using existing OCI layout to oc-mirror-workspace/images.3791797800/catalogs/powercloud/oc-mirror-dev/test-catalog-latest/layout"
level=debug msg=resolving host=localhost.localdomain:5001
level=debug msg=do request host=localhost.localdomain:5001 request.header.accept=application/vnd.docker.distribution.manifest.v2+json, application/vnd.docker.distribution.manifest.list.v2+json, application/vnd.oci.image.manifest.v1+json, application/vnd.oci.image.index.v1+json, */* request.header.user-agent=opm/alpha request.method=HEAD url=http://localhost.localdomain:5001/v2/powercloud/oc-mirror-dev/manifests/test-catalog-latest
level=debug msg=fetch response received host=localhost.localdomain:5001 response.header.content-length=238 response.header.content-type=application/vnd.oci.image.index.v1+json response.header.date=Fri, 15 Mar 2024 16:06:13 GMT response.header.docker-content-digest=sha256:06d5c8c587e82963d8ab9efd8fcaefa9e7073a1d510508531e916f92d1c88601 response.header.docker-distribution-api-version=registry/2.0 response.header.etag="sha256:06d5c8c587e82963d8ab9efd8fcaefa9e7073a1d510508531e916f92d1c88601" response.header.x-content-type-options=nosniff response.status=200 OK url=http://localhost.localdomain:5001/v2/powercloud/oc-mirror-dev/manifests/test-catalog-latest
level=debug msg=resolved desc.digest=sha256:06d5c8c587e82963d8ab9efd8fcaefa9e7073a1d510508531e916f92d1c88601 host=localhost.localdomain:5001
building cincinnati graph data image
No  graph data found in archive, skipping graph image build
Pushing metadata to registry at localhost.localdomain:5001/oc-mirror:226105ca-99b6-4be6-af1d-fa0d87336eb0
Writing image mapping to oc-mirror-workspace/results-1710518773/mapping.txt
Writing CatalogSource manifests to oc-mirror-workspace/results-1710518773
Writing ICSP manifests to oc-mirror-workspace/results-1710518773
+ popd
/build
+ check_bundles localhost.localdomain:5001/powercloud/oc-mirror-dev:test-catalog-latest baz.v1.0.1 localhost.localdomain:5001
+ local catalog_image=localhost.localdomain:5001/powercloud/oc-mirror-dev:test-catalog-latest
+ local exp_bundles_list=baz.v1.0.1
+ local disconn_registry=localhost.localdomain:5001
+ local ns=
+ local extraction_dir=/build/test/e2e/operator-test.29955/extracted
+ mkdir -p /build/test/e2e/operator-test.29955/extracted
+ local index_dir=/build/test/e2e/operator-test.29955/unpacked
+ local index_path=/build/test/e2e/operator-test.29955/unpacked/index.json
+ mkdir -p /build/test/e2e/operator-test.29955/unpacked
+ go run -mod=readonly test/e2e/lib/catalog-extract/main.go localhost.localdomain:5001/powercloud/oc-mirror-dev:test-catalog-latest /build/test/e2e/operator-test.29955/extracted/temp.tar
+ tar xvf /build/test/e2e/operator-test.29955/extracted/temp.tar /configs/index.json --strip-components=1
tar: Removing leading `/' from member names
/configs/index.json
+ mv index.json /build/test/e2e/operator-test.29955/unpacked
+ local cache_dir=/build/test/e2e/operator-test.29955/extracted/cache
+ tar xvf /build/test/e2e/operator-test.29955/extracted/temp.tar /cache
tar: Removing leading `/' from member names
/cache
/cache/cache
/cache/cache/baz_stable_baz.v1.0.1.json
/cache/cache/packages.json
/cache/digest
+ mv cache /build/test/e2e/operator-test.29955/extracted
+ local opm_path=/build/test/e2e/operator-test.29955/extracted/opm
+ tar xvf /build/test/e2e/operator-test.29955/extracted/temp.tar bin/opm
bin/opm
+ mv bin/opm /build/test/e2e/operator-test.29955/extracted
+ chmod +x /build/test/e2e/operator-test.29955/extracted/opm
+ /build/test/e2e/operator-test.29955/extracted/opm validate /build/test/e2e/operator-test.29955/unpacked
+ /build/test/e2e/operator-test.29955/extracted/opm serve /build/test/e2e/operator-test.29955/unpacked --cache-dir=/build/test/e2e/operator-test.29955/extracted/cache --cache-only --cache-enforce-integrity
[36mINFO[0m[0000] starting pprof endpoint                       [36maddress[0m="localhost:6060"
+ rm -fr /build/test/e2e/operator-test.29955/extracted
+ declare -A exp_bundles_set
+ for bundle in $exp_bundles_list
+ exp_bundles_set[$bundle]=bundle
++ crane manifest --insecure --platform all localhost.localdomain:5001/powercloud/oc-mirror-dev:test-catalog-latest
++ jq .manifests
++ jq '.[].platform.architecture'
+ local 'manifest="ppc64le"'
++ echo '"ppc64le"'
++ wc -w
+ local num_manifest=1
+ ((  1 != 1  ))
++ cat /build/test/e2e/operator-test.29955/unpacked/index.json
++ jq -sr '.[] | select(.schema == "olm.bundle") | .name'
+ local index_bundle_names=baz.v1.0.1
++ echo baz.v1.0.1
++ wc -w
+ local num_bundles=1
+ ((  1 != 1  ))
++ cat /build/test/e2e/operator-test.29955/unpacked/index.json
++ jq -sr '.[] | select(.schema == "olm.bundle") | .image'
+ local index_bundle_images=quay.io/powercloud/oc-mirror-dev@sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e
+ [[ ! -z '' ]]
+ for image in $index_bundle_images
++ echo quay.io/powercloud/oc-mirror-dev@sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e
++ cut --complement -d/ -f1
+ image=localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e
+ crane digest localhost.localdomain:5001/powercloud/oc-mirror-dev@sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e --insecure
sha256:48bfd0f6c6a6f21a04ee3e67fcba518026ab76d5f2de3314f52fde00023ce55e
+ for bundle in $index_bundle_names
+ [[ bundle != \b\u\n\d\l\e ]]
+ rm -rf /build/test/e2e/operator-test.29955
+ cleanup_all
+ [[ -n 4920 ]]
+ kill 4920
+ PID_DISONN=
+ [[ -n 4901 ]]
+ kill 4901
+ PID_CON=
+ [[ -n '' ]]
+ cleanup_all
+ [[ -n 4920 ]]
+ kill 4920
+ PID_DISONN=
+ [[ -n 4901 ]]
+ kill 4901
+ PID_CON=
+ [[ -n '' ]]
